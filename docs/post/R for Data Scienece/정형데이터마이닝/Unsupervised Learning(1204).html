<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="GANGCHEOL LEE">
<meta name="dcterms.date" content="2021-07-11">

<title>Gangcheol - 02. unsupervised learning</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../../site_libs/bootstrap/bootstrap-dark.min.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Gangcheol</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../../about.html" aria-current="page">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gangcheol/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div class="quarto-toggle-container">
                  <a href="" class="quarto-color-scheme-toggle nav-link" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
              </div>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">02. unsupervised learning</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">02. unsupervised learning</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>GANGCHEOL LEE </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 11, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../about.html" class="sidebar-item-text sidebar-link">About Me</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Post</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Bigdata Analysis</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-03-08-(1주차).html" class="sidebar-item-text sidebar-link">01. 단순선형회귀</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-03-14-(2주차).html" class="sidebar-item-text sidebar-link">02. Tensorflow-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-03-21-(3주차).html" class="sidebar-item-text sidebar-link">03. Tensorflow-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-03-28-(4주차).html" class="sidebar-item-text sidebar-link">04. 경사하강법-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-03-30-(5주차).html" class="sidebar-item-text sidebar-link">05. 경사하강법-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-04-11-(6주차).html" class="sidebar-item-text sidebar-link">06. layer</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2020-04-12-(6주차) 과제.html" class="sidebar-item-text sidebar-link">06. layer 과제</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-04-18-(7주차).html" class="sidebar-item-text sidebar-link">07. Adam</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-04-27-중간고사 해설.html" class="sidebar-item-text sidebar-link">08. Mid term</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-05-01-(9주차).html" class="sidebar-item-text sidebar-link">09. MLE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-05-02-lecture.html" class="sidebar-item-text sidebar-link">10. 확률적 경사하강법</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-05-08-lecture.html" class="sidebar-item-text sidebar-link">11. softmax</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-05-11-(11주차).html" class="sidebar-item-text sidebar-link">12. Max pooling, CNN</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-05-23-(12주차).html" class="sidebar-item-text sidebar-link">13. CNN-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-05-30-(13주차).html" class="sidebar-item-text sidebar-link">13. model fitting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Bigdata Analysis/2022-06-13-기말고사 문제풀이.html" class="sidebar-item-text sidebar-link">14. Final term</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Etc</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">toeic speaking</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/etc/toeic speaking/part1.html" class="sidebar-item-text sidebar-link">part 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/etc/toeic speaking/part2.html" class="sidebar-item-text sidebar-link">part 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/etc/toeic speaking/part3.html" class="sidebar-item-text sidebar-link">part 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/etc/toeic speaking/part4.html" class="sidebar-item-text sidebar-link">part 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/etc/toeic speaking/part5.html" class="sidebar-item-text sidebar-link">part 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/etc/toeic speaking/summary.html" class="sidebar-item-text sidebar-link">summary</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">Ml with pytorch</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Ml with pytorch/2023-01-27-Intro.html" class="sidebar-item-text sidebar-link">01. intro</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Ml with pytorch/2023-02-01-Overview.html" class="sidebar-item-text sidebar-link">02. Overview</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Ml with pytorch/2023-02-04-DNN 딥러닝의 기초 (1).html" class="sidebar-item-text sidebar-link">03. DNN 딥러닝의 기초 (1)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Ml with pytorch/2023-02-11 DNN 딥러닝의 기초 (2).html" class="sidebar-item-text sidebar-link">04. DNN 딥러닝의 기초 (2)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/Ml with pytorch/2023-02-18 DNN 딥러닝의 기초 (3).html" class="sidebar-item-text sidebar-link">05. DNN 딥러닝의 기초 (3)</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">R for Data Scienece</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">데이터 전처리</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/데이터 전처리/결측치(1205).html" class="sidebar-item-text sidebar-link">01. 결측치 처리</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/데이터 전처리/표준화와 정규화(1205).html" class="sidebar-item-text sidebar-link">02. 표준화와 정규화</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/데이터 전처리/날짜 데이터 전처리.html" class="sidebar-item-text sidebar-link">03. 날짜 데이터</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">비정형데이터마이닝</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/비정형데이터마이닝/텍스트마이닝.html" class="sidebar-item-text sidebar-link">01. text mining</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">정형데이터마이닝</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/정형데이터마이닝/Supervised Learning.html" class="sidebar-item-text sidebar-link">01. Supervised Learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/정형데이터마이닝/Unsupervised Learning(1204).html" class="sidebar-item-text sidebar-link active">02. unsupervised learning</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">통계분석</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/데이터 샘플링.html" class="sidebar-item-text sidebar-link">01. sampling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/T-검정.html" class="sidebar-item-text sidebar-link">02. T-test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/분산분석(ANOVA).html" class="sidebar-item-text sidebar-link">03. ANOVA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/교차분석.html" class="sidebar-item-text sidebar-link">04. chi-square test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/상관분석.html" class="sidebar-item-text sidebar-link">05. cor-test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/회귀분석.html" class="sidebar-item-text sidebar-link">06. regression analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/고급회귀분석.html" class="sidebar-item-text sidebar-link">07. regression analysis-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/주성분분석(1204).html" class="sidebar-item-text sidebar-link">08. PCA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/요인분석(1205).html" class="sidebar-item-text sidebar-link">09. Factor Analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/다차원척도법(1204).html" class="sidebar-item-text sidebar-link">10. Multidimensional scaling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../post/R for Data Scienece/통계분석/시계열 분석.html" class="sidebar-item-text sidebar-link">11. Time-seris analysis</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#군집분석" id="toc-군집분석" class="nav-link active" data-scroll-target="#군집분석">군집분석</a>
  <ul class="collapse">
  <li><a href="#거리측도" id="toc-거리측도" class="nav-link" data-scroll-target="#거리측도">거리측도</a>
  <ul class="collapse">
  <li><a href="#연속형인-경우" id="toc-연속형인-경우" class="nav-link" data-scroll-target="#연속형인-경우">1. 연속형인 경우</a></li>
  <li><a href="#범주형인-경우" id="toc-범주형인-경우" class="nav-link" data-scroll-target="#범주형인-경우">2. 범주형인 경우</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#계층적-군집분석" id="toc-계층적-군집분석" class="nav-link" data-scroll-target="#계층적-군집분석">1. 계층적 군집분석</a>
  <ul class="collapse">
  <li><a href="#종류" id="toc-종류" class="nav-link" data-scroll-target="#종류">1-1. 종류</a></li>
  <li><a href="#절차" id="toc-절차" class="nav-link" data-scroll-target="#절차">1-2. 절차</a></li>
  <li><a href="#r-실습" id="toc-r-실습" class="nav-link" data-scroll-target="#r-실습">1-3. R 실습</a></li>
  </ul></li>
  <li><a href="#비계층적-군집분석-k-means-clustering" id="toc-비계층적-군집분석-k-means-clustering" class="nav-link" data-scroll-target="#비계층적-군집분석-k-means-clustering">2. 비계층적 군집분석 (K-means clustering)</a></li>
  <li><a href="#혼합-분포-군집" id="toc-혼합-분포-군집" class="nav-link" data-scroll-target="#혼합-분포-군집">3. 혼합 분포 군집</a></li>
  <li><a href="#연관분석-association-analysis" id="toc-연관분석-association-analysis" class="nav-link" data-scroll-target="#연관분석-association-analysis">4. 연관분석 (Association analysis)</a>
  <ul class="collapse">
  <li><a href="#측도" id="toc-측도" class="nav-link" data-scroll-target="#측도">4-1. 측도</a></li>
  <li><a href="#apriori-알고리즘" id="toc-apriori-알고리즘" class="nav-link" data-scroll-target="#apriori-알고리즘">4-2. Apriori 알고리즘</a></li>
  <li><a href="#r실습" id="toc-r실습" class="nav-link" data-scroll-target="#r실습">4-3. R실습</a></li>
  <li><a href="#extra.-som-자기조직화지도" id="toc-extra.-som-자기조직화지도" class="nav-link" data-scroll-target="#extra.-som-자기조직화지도">Extra. SOM (자기조직화지도)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="군집분석" class="level1">
<h1>군집분석</h1>
<ul>
<li><p>개체간 유사성에 따라 집단을 분류하고, 군집 내 유사성과 군집 간 상이성을 규명하는 다변량 분석 기법이다.</p></li>
<li><p>군집분석에서는 관측 데이터 간 유사성이나 근접성을 측정해 어느 군집으로 묶을 수 있는지 판단해야 한다.</p></li>
</ul>
<section id="거리측도" class="level2">
<h2 class="anchored" data-anchor-id="거리측도">거리측도</h2>
<section id="연속형인-경우" class="level3">
<h3 class="anchored" data-anchor-id="연속형인-경우">1. 연속형인 경우</h3>
<ul>
<li>유클리디안거리 (euclidean) : 가장 널리 사용되나 통계적 개념이 내포되어 있지 않아 변수들의 산포 정도가 전혀 감안되어 있지 않음.</li>
<li>표준화 거리(Standardized) : 해당변수의 표준편차로 척도 변환 후 유클리드안 거리를 계산하는 방법. 분산 차이로 인한 왜곡을 피할 수 있음.</li>
<li>마할라노비스 거리(Mahalanobis) : 통계적 개념이 포함된 거리로 두 벡터 사이의 거리를 표본공분산으로 나눠주어야 한다. 그룹에 대한 사전 지식 없이는 표본공분산 S를 계산할 수 없으므로 사용하기 곤란하다.</li>
<li>체비셰프 거리 (Chebyshev) : <span class="math inline">\(d(x,y) = max_{i} |x_i-y_i|\)</span></li>
<li>멘하탄 거리 (Manhattan) : 유클리디안과 비슷 -&gt; <span class="math inline">\(d(x,y) = \sum |x_i-y_i|\)</span></li>
<li>캔버라 거리(Canberra), 민코우스키(Minkowski) 거리 등이 있음</li>
</ul>
</section>
<section id="범주형인-경우" class="level3">
<h3 class="anchored" data-anchor-id="범주형인-경우">2. 범주형인 경우</h3>
<ul>
<li>자카드 거리</li>
</ul>
<p><span class="math display">\[ 1-  J(A,B) = \frac {|A\cup B|- |A\cap B|}{|A\cup B|}\]</span></p>
<ul>
<li>코사인 유사도 : 두 개체의 백터 내적의 코사인 값을 이용하여 측정된 벡터간의 유사한 정도</li>
</ul>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
</section>
</section>
</section>
<section id="계층적-군집분석" class="level1">
<h1>1. 계층적 군집분석</h1>
<ul>
<li>n개의 군집으로 시작해 점차 군집의 개수를 줄여 나가는 방법</li>
</ul>
<section id="종류" class="level2">
<h2 class="anchored" data-anchor-id="종류">1-1. 종류</h2>
<ul>
<li><p>최단연결법 (single linkage, nearest neighbor)</p>
<ul>
<li>nxn 거리 행렬에서 가장 가까운 데이터를 묶어서 군집을 형성한다.</li>
</ul></li>
<li><p>최장연결법 (complete linkage) : 데이터 간 거리를 계산할 때 최장거리를 거리로 계산하여 거리행렬을 수정하는 방법</p></li>
<li><p>평균연결법 (average linkage)</p></li>
<li><p>와드연결법(Ward linkage) : 군집 내 편차들의 제곱합을 고려한 방법, 군집간 정보의 손실을 최소화 하기 위해 군집화를 진행 <span class="math inline">\(\to sse\)</span>를 고려한다고 생각</p></li>
</ul>
</section>
<section id="절차" class="level2">
<h2 class="anchored" data-anchor-id="절차">1-2. 절차</h2>
<p>step 1. 거리행렬을 통해 가장 가까운 거리의 객체들 간의 관계를 규명하고 덴드로그램을 그린다.</p>
<p>step 2. 덴드로그램을 보고 군집의 개수를 변화해 가면서 적절한 군집 수를 선정한다.</p>
<p>step 3. 군집의 수는 분석 목적에 따라 선정할수 있지만 대부분 5개 이상의 군집은 잘 활용하지 않는다.</p>
</section>
<section id="r-실습" class="level2">
<h2 class="anchored" data-anchor-id="r-실습">1-3. R 실습</h2>
<ul>
<li>dist(data, method)
<ul>
<li>method : 거리측정방법, euclidean, maximum, manhattan, canberra, binary, minkowski가 있음</li>
</ul></li>
<li>hclust (data, method)
<ul>
<li>data : dist 함수로 거리가 측정된 데이터</li>
<li>method : 거리측정 밥법, single, complete, average, median, ward.D 가 있음</li>
</ul></li>
</ul>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>US <span class="ot">&lt;-</span> USArrests</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(US)</span></code></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A data.frame: 6 × 4</caption>
<thead>
    <tr><th></th><th scope="col">Murder</th><th scope="col">Assault</th><th scope="col">UrbanPop</th><th scope="col">Rape</th></tr>
    <tr><th></th><th scope="col">&lt;dbl&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;int&gt;</th><th scope="col">&lt;dbl&gt;</th></tr>
</thead>
<tbody>
    <tr><th scope="row">Alabama</th><td>13.2</td><td>236</td><td>58</td><td>21.2</td></tr>
    <tr><th scope="row">Alaska</th><td>10.0</td><td>263</td><td>48</td><td>44.5</td></tr>
    <tr><th scope="row">Arizona</th><td> 8.1</td><td>294</td><td>80</td><td>31.0</td></tr>
    <tr><th scope="row">Arkansas</th><td> 8.8</td><td>190</td><td>50</td><td>19.5</td></tr>
    <tr><th scope="row">California</th><td> 9.0</td><td>276</td><td>91</td><td>40.6</td></tr>
    <tr><th scope="row">Colorado</th><td> 7.9</td><td>204</td><td>78</td><td>38.7</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>US.dist <span class="ot">&lt;-</span> <span class="fu">dist</span>(US, <span class="st">"euclidean"</span>)</span></code></pre></div>
</div>
<ul>
<li><code>dist^2</code>을 한 이유는 거리의 차이를 많이 두어 군집이 나뉘는 것을 쉽게 확인하기 위해서임.</li>
</ul>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># hclust 함수를 이용하여 계층적 군집분석</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.res=</span><span class="dv">200</span>,<span class="at">repr.plot.hight=</span><span class="dv">5</span>,<span class="at">repr.plot.width=</span><span class="dv">7</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>US.single <span class="ot">&lt;-</span> <span class="fu">hclust</span>(US.dist<span class="sc">^</span><span class="dv">2</span>,<span class="at">method=</span><span class="st">"single"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(US.single)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># cutree함수를 이용하여 계층적 군집결과를 그릅 나누기</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>group <span class="ot">&lt;-</span> <span class="fu">cutree</span>(US.single,<span class="at">k=</span><span class="dv">5</span>) <span class="do">## k는 군집의 수, h는 높이</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>group</span></code></pre></div>
<div class="cell-output cell-output-display">
<style>
.dl-inline {width: auto; margin:0; padding: 0}
.dl-inline>dt, .dl-inline>dd {float: none; width: auto; display: inline-block}
.dl-inline>dt::after {content: ":\0020"; padding-right: .5ex}
.dl-inline>dt:not(:first-of-type) {padding-left: .5ex}
</style><dl class="dl-inline"><dt>Alabama</dt><dd>1</dd><dt>Alaska</dt><dd>2</dd><dt>Arizona</dt><dd>1</dd><dt>Arkansas</dt><dd>3</dd><dt>California</dt><dd>1</dd><dt>Colorado</dt><dd>3</dd><dt>Connecticut</dt><dd>3</dd><dt>Delaware</dt><dd>1</dd><dt>Florida</dt><dd>4</dd><dt>Georgia</dt><dd>3</dd><dt>Hawaii</dt><dd>3</dd><dt>Idaho</dt><dd>3</dd><dt>Illinois</dt><dd>1</dd><dt>Indiana</dt><dd>3</dd><dt>Iowa</dt><dd>3</dd><dt>Kansas</dt><dd>3</dd><dt>Kentucky</dt><dd>3</dd><dt>Louisiana</dt><dd>1</dd><dt>Maine</dt><dd>3</dd><dt>Maryland</dt><dd>1</dd><dt>Massachusetts</dt><dd>3</dd><dt>Michigan</dt><dd>1</dd><dt>Minnesota</dt><dd>3</dd><dt>Mississippi</dt><dd>1</dd><dt>Missouri</dt><dd>3</dd><dt>Montana</dt><dd>3</dd><dt>Nebraska</dt><dd>3</dd><dt>Nevada</dt><dd>1</dd><dt>New Hampshire</dt><dd>3</dd><dt>New Jersey</dt><dd>3</dd><dt>New Mexico</dt><dd>1</dd><dt>New York</dt><dd>1</dd><dt>North Carolina</dt><dd>5</dd><dt>North Dakota</dt><dd>3</dd><dt>Ohio</dt><dd>3</dd><dt>Oklahoma</dt><dd>3</dd><dt>Oregon</dt><dd>3</dd><dt>Pennsylvania</dt><dd>3</dd><dt>Rhode Island</dt><dd>3</dd><dt>South Carolina</dt><dd>1</dd><dt>South Dakota</dt><dd>3</dd><dt>Tennessee</dt><dd>3</dd><dt>Texas</dt><dd>3</dd><dt>Utah</dt><dd>3</dd><dt>Vermont</dt><dd>3</dd><dt>Virginia</dt><dd>3</dd><dt>Washington</dt><dd>3</dd><dt>West Virginia</dt><dd>3</dd><dt>Wisconsin</dt><dd>3</dd><dt>Wyoming</dt><dd>3</dd></dl>
</div>
</div>
<div class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 각각의 그룹을 사각형으로 그룹지어 나타나기</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(US.single)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rect.hclust</span>(US.single,<span class="at">k=</span><span class="dv">5</span>,<span class="at">border=</span><span class="st">"red"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-7-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
</section>
<section id="비계층적-군집분석-k-means-clustering" class="level1">
<h1>2. 비계층적 군집분석 (K-means clustering)</h1>
<ul>
<li>주어진 데이터를 k개의 클러스터로 묶는 알고리즘, 각 클러스터와 거리 차이의 분산을 최소화 하는 방식으로 동작</li>
<li>알고리즘이 단순하며 계층적 군집분석에 비해 많은 양의 데이터를 다룰 수 있으며 사전 정보가 없을 경우 의미있는 자료 구조를 찾을 수 있음.</li>
<li>허나 군집의 수, 가중치와 거리 정의가 어려우며, 사전에 주어진 목적이 없으므로 결과 해석이 어려움.</li>
<li>또한 잡음이나 이상값의 영향을 받으며 초기 군집 수를 결정해야 한다는 단점이 있다.</li>
</ul>
<div class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">lee</span><span class="sc">\\</span><span class="st">Desktop</span><span class="sc">\\</span><span class="st">PART 05 실습용 데이터"</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>credit_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"credit_final.csv"</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">#glimpse(credit_data) ## credit.rating의 경우 factor 변수이므로 변환</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>credit_data<span class="sc">$</span>credit.rating <span class="ot">&lt;-</span> <span class="fu">as_factor</span>(credit_data<span class="sc">$</span>credit.rating)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 1000 Columns: 21

-- Column specification ------------------------------------------------------------------------------------------------
Delimiter: ","
dbl (21): credit.rating, account.balance, credit.duration.months, previous.c...


i Use `spec()` to retrieve the full column specification for this data.
i Specify the column types or set `show_col_types = FALSE` to quiet this message.
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summary(credit_data)</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="do">## 데이터 분할 각각의 데이터를 7:3으로 나눔</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> credit_data <span class="sc">%&gt;%</span> <span class="fu">sample_frac</span>(<span class="fl">0.7</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> credit_data <span class="sc">%&gt;%</span> <span class="fu">setdiff</span>(train)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>train.data <span class="ot">&lt;-</span> train <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>credit.kmeans <span class="ot">&lt;-</span> <span class="fu">kmeans</span>(train.data,<span class="at">centers=</span><span class="dv">2</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(credit.kmeans)</span></code></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>'cluster'</li><li>'centers'</li><li>'totss'</li><li>'withinss'</li><li>'tot.withinss'</li><li>'betweenss'</li><li>'size'</li><li>'iter'</li><li>'ifault'</li></ol>
</div>
</div>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>cluster <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">ifelse</span>(credit.kmeans<span class="sc">$</span>cluster<span class="sc">==</span><span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>))</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(cluster,train<span class="sc">$</span>credit.rating,<span class="at">positive =</span> <span class="st">"1"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Confusion Matrix and Statistics

          Reference
Prediction   0   1
         0  48  75
         1 166 411
                                          
               Accuracy : 0.6557          
                 95% CI : (0.6192, 0.6909)
    No Information Rate : 0.6943          
    P-Value [Acc &gt; NIR] : 0.9873          
                                          
                  Kappa : 0.0794          
                                          
 Mcnemar's Test P-Value : 6.735e-09       
                                          
            Sensitivity : 0.8457          
            Specificity : 0.2243          
         Pos Pred Value : 0.7123          
         Neg Pred Value : 0.3902          
             Prevalence : 0.6943          
         Detection Rate : 0.5871          
   Detection Prevalence : 0.8243          
      Balanced Accuracy : 0.5350          
                                          
       'Positive' Class : 1               
                                          </code></pre>
</div>
</div>
<ul>
<li><p>실제 데이터와 군집분설결과의 confusion matrix 확인 -&gt; 그닥 결과가 좋지는 않음</p></li>
<li><p>또한 전체변동에서 군집 간 변동이 차지하는 비율을 보았을 때 약 70%로 좋은 모델이라고 판단할 수 없다.</p></li>
</ul>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>credit.kmeans<span class="sc">$</span>betweenss<span class="sc">/</span>credit.kmeans<span class="sc">$</span>totss</span></code></pre></div>
<div class="cell-output cell-output-display">
0.690074654329468
</div>
</div>
<ul>
<li>NbClust함수를 이용하면 최적의 군집수를 찾을 수 있다.</li>
</ul>
<div class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(NbClust)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>nc <span class="ot">&lt;-</span> <span class="fu">NbClust</span>(train.data, <span class="at">min.nc=</span><span class="dv">2</span>, <span class="at">max.nc =</span> <span class="dv">15</span>, <span class="at">method=</span><span class="st">"kmeans"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>*** : The Hubert index is a graphical method of determining the number of clusters.
                In the plot of Hubert index, we seek a significant knee that corresponds to a 
                significant increase of the value of the measure i.e the significant peak in Hubert
                index second differences plot. 
 </code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-14-output-2.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>*** : The D index is a graphical method of determining the number of clusters. 
                In the plot of D index, we seek a significant knee (the significant peak in Dindex
                second differences plot) that corresponds to a significant increase of the value of
                the measure. 
 
******************************************************************* 
* Among all indices:                                                
* 5 proposed 2 as the best number of clusters 
* 2 proposed 3 as the best number of clusters 
* 8 proposed 4 as the best number of clusters 
* 1 proposed 6 as the best number of clusters 
* 2 proposed 9 as the best number of clusters 
* 1 proposed 10 as the best number of clusters 
* 5 proposed 15 as the best number of clusters 

                   ***** Conclusion *****                            
 
* According to the majority rule, the best number of clusters is  4 
 
 
******************************************************************* </code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-14-output-4.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>Hubert index와 D index 값의 근거하여 최적의 군집의 수를 4로 채택 : 군집분석 타당성 지표 다시 공부</li>
</ul>
<div class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(nc)</span></code></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>'All.index'</li><li>'All.CriticalValues'</li><li>'Best.nc'</li><li>'Best.partition'</li></ol>
</div>
</div>
<div class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>nc<span class="sc">$</span>Best.partition</span></code></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>4</li><li>1</li><li>3</li><li>4</li><li>1</li><li>3</li><li>4</li><li>2</li><li>4</li><li>4</li><li>1</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>2</li><li>4</li><li>1</li><li>1</li><li>4</li><li>3</li><li>4</li><li>1</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>1</li><li>1</li><li>4</li><li>3</li><li>1</li><li>1</li><li>3</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>2</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>1</li><li>4</li><li>1</li><li>3</li><li>2</li><li>4</li><li>3</li><li>3</li><li>1</li><li>3</li><li>3</li><li>4</li><li>4</li><li>2</li><li>3</li><li>3</li><li>3</li><li>3</li><li>1</li><li>3</li><li>3</li><li>4</li><li>3</li><li>3</li><li>1</li><li>2</li><li>4</li><li>4</li><li>3</li><li>4</li><li>3</li><li>3</li><li>1</li><li>4</li><li>2</li><li>3</li><li>1</li><li>4</li><li>1</li><li>3</li><li>4</li><li>3</li><li>3</li><li>1</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>2</li><li>3</li><li>4</li><li>1</li><li>3</li><li>4</li><li>4</li><li>1</li><li>1</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>2</li><li>3</li><li>1</li><li>3</li><li>3</li><li>3</li><li>3</li><li>1</li><li>1</li><li>3</li><li>2</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>1</li><li>3</li><li>4</li><li>4</li><li>4</li><li>3</li><li>3</li><li>1</li><li>4</li><li>3</li><li>3</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>2</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>2</li><li>3</li><li>3</li><li>4</li><li>3</li><li>2</li><li>3</li><li>3</li><li>1</li><li>3</li><li>3</li><li>4</li><li>1</li><li>3</li><li>4</li><li>...</li><li>1</li><li>3</li><li>1</li><li>3</li><li>2</li><li>1</li><li>1</li><li>1</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>4</li><li>4</li><li>1</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>2</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>3</li><li>1</li><li>3</li><li>4</li><li>4</li><li>1</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>4</li><li>4</li><li>4</li><li>1</li><li>3</li><li>1</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>4</li><li>3</li><li>3</li><li>1</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>4</li><li>3</li><li>4</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>4</li><li>4</li><li>3</li><li>4</li><li>3</li><li>3</li><li>1</li><li>4</li><li>2</li><li>4</li><li>4</li><li>3</li><li>4</li><li>4</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>3</li><li>3</li><li>4</li><li>4</li><li>3</li><li>2</li><li>3</li><li>4</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>1</li><li>3</li><li>3</li><li>3</li><li>1</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>2</li><li>3</li><li>4</li><li>3</li><li>4</li><li>1</li><li>4</li><li>3</li><li>3</li><li>4</li><li>1</li><li>4</li><li>1</li><li>1</li><li>4</li><li>3</li><li>3</li><li>1</li><li>3</li><li>3</li><li>1</li><li>2</li><li>3</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>1</li><li>3</li><li>1</li><li>3</li><li>3</li><li>3</li><li>4</li><li>3</li><li>1</li><li>1</li><li>3</li><li>3</li><li>4</li><li>1</li><li>2</li><li>4</li><li>4</li><li>3</li><li>4</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>3</li><li>1</li><li>3</li><li>4</li><li>3</li><li>3</li><li>4</li><li>4</li><li>4</li><li>1</li><li>4</li><li>3</li><li>3</li><li>4</li><li>3</li><li>3</li></ol>
</div>
</div>
<hr>
</section>
<section id="혼합-분포-군집" class="level1">
<h1>3. 혼합 분포 군집</h1>
<ul>
<li><p>데이터가 K개의 모수적 모형의 가중합으로 표현되는 모집단 모형으로부터 나왔다는 가정하에서 모수와 함께 가중치를 자료로부터 추정하는 방법을 사용</p></li>
<li><p>K개의 각 모형은 군집을 의미하며, 각 데이터는 추정된 K개의 모형 중 어느 모형으로 부터 나왔을 확률이 높은지에 따라 군집의 분류가 이루어진다.</p></li>
<li><p>흔히 혼합 모형에서의 모수와 가중치의 추정(MLE)에는 EM 알고리즘이 사용된다.</p></li>
<li><p>K-means 방법과 유사하지만 확률분포를 도입하여 군집을 수행한다.</p></li>
<li><p>Mclust함수의 <code>G</code>인자는 클러스터의 수를 지정하나, 디폴트는 <code>2:9</code> 에서 스스로 최적 군집의 수를 찾아준다.</p></li>
<li><p><code>summary</code>함수의 <code>parameter = T</code> 하여 혼합분포의 모수추정치와 함께 각 군집별 해당 자료에 대한 요약결과를 확인할 수 있다.</p></li>
</ul>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mclust)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>mc <span class="ot">&lt;-</span> <span class="fu">Mclust</span>(iris <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>Species),<span class="at">G=</span><span class="dv">3</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(mc,parameters=T)</span></span></code></pre></div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">repr.plot.res=</span><span class="dv">200</span>, <span class="at">repr.plot.height=</span><span class="dv">4</span>,<span class="at">repr.plot.width=</span><span class="dv">7</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_mclust</span>(mc,<span class="st">"classification"</span>,<span class="at">geom=</span><span class="st">"point"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-20-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
<section id="연관분석-association-analysis" class="level1">
<h1>4. 연관분석 (Association analysis)</h1>
<section id="측도" class="level2">
<h2 class="anchored" data-anchor-id="측도">4-1. 측도</h2>
<p><span class="math inline">\(\divideontimes\)</span> tip:측도의 단어 뜻을 직관적으로 받아들여 해석하자.</p>
<ul>
<li>지지도 (Support) : 전체 거래 중 항목 A와 항목 B를 동시에 포함하는 거래의 비율로 정의한다.</li>
</ul>
<p><span class="math inline">\(\quad P (A \cup B)\)</span></p>
<ul>
<li>신뢰도 (Confidence) : 항목 A를 포함한 거래중 항목 B도 같이 포함될 확률</li>
</ul>
<p><span class="math inline">\(\begin {eqnarray*}\quad P(B|A) = \frac {P(A\cap B)}{P(A)} \end{eqnarray*}\)</span></p>
<ul>
<li>향상도 (Lift) : A가 구매되지 않았을 때 품목 B의 구매확률에 비해 A가 구매됐을 때 품목 B의 구매확률의 증가비</li>
</ul>
<p><span class="math inline">\(\quad \begin {eqnarray*} \frac {P(B|A)}{P(B)}\end{eqnarray*}\)</span></p>
</section>
<section id="apriori-알고리즘" class="level2">
<h2 class="anchored" data-anchor-id="apriori-알고리즘">4-2. Apriori 알고리즘</h2>
<ul>
<li><p>빈발항목집합(frequent item set) : 최소 지지도 보다 큰 지지도 값을 갖는 품목의 집합</p></li>
<li><p>Apriori 알고리즘 : 모든 품목집합에 대한 지지도를 전부 계산하는 것이 아니라, 최소 지지도 이상의 빈발항목집합을 찾은 후 그것들에 대해서만 연관규칙을 계산하는 것.</p></li>
<li><p>지지도가 낮은 후보 집합 생성 시 아이템의 개수가 많아지면 계산 복잡도가 증가한다는 문제점을 가지고 있다.</p></li>
</ul>
</section>
<section id="r실습" class="level2">
<h2 class="anchored" data-anchor-id="r실습">4-3. R실습</h2>
<ul>
<li>as함수를 이용하여 데이터프레임을 <code>transactions</code> 함수로 변형 후에 진행하여야 하나 예제 데이터는 이미 변형이 된 데이터이다.</li>
</ul>
<div class="cell" data-execution_count="92">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(arules)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="102">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(Groceries)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(Groceries[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>]) <span class="do">##연관규칙 확인</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    items                
[1] {citrus fruit,       
     semi-finished bread,
     margarine,          
     ready soups}        
[2] {tropical fruit,     
     yogurt,             
     coffee}             
[3] {whole milk}         </code></pre>
</div>
</div>
<div class="cell" data-execution_count="103">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">apriori</span>(Groceries,</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">parameter =</span> <span class="fu">list</span>(<span class="at">support=</span><span class="fl">0.01</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">confidence =</span> <span class="fl">0.3</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Apriori

Parameter specification:
 confidence minval smax arem  aval originalSupport maxtime support minlen
        0.3    0.1    1 none FALSE            TRUE       5    0.01      1
 maxlen target  ext
     10  rules TRUE

Algorithmic control:
 filter tree heap memopt load sort verbose
    0.1 TRUE TRUE  FALSE TRUE    2    TRUE

Absolute minimum support count: 98 

set item appearances ...[0 item(s)] done [0.00s].
set transactions ...[169 item(s), 9835 transaction(s)] done [0.00s].
sorting and recoding items ... [88 item(s)] done [0.00s].
creating transaction tree ... done [0.00s].
checking subsets of size 1 2 3 4 done [0.00s].
writing ... [125 rule(s)] done [0.00s].
creating S4 object  ... done [0.00s].</code></pre>
</div>
</div>
<ul>
<li>총 125개의 연관규칙이 생성되었다.</li>
</ul>
<div class="cell" data-execution_count="104">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(<span class="fu">sort</span>(rules,<span class="at">by=</span><span class="fu">c</span>(<span class="st">"confidence"</span>),<span class="at">decreasing =</span> T)[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    lhs                                 rhs                support   
[1] {citrus fruit,root vegetables}   =&gt; {other vegetables} 0.01037112
[2] {tropical fruit,root vegetables} =&gt; {other vegetables} 0.01230300
[3] {curd,yogurt}                    =&gt; {whole milk}       0.01006609
[4] {other vegetables,butter}        =&gt; {whole milk}       0.01148958
[5] {tropical fruit,root vegetables} =&gt; {whole milk}       0.01199797
    confidence coverage   lift     count
[1] 0.5862069  0.01769192 3.029608 102  
[2] 0.5845411  0.02104728 3.020999 121  
[3] 0.5823529  0.01728521 2.279125  99  
[4] 0.5736041  0.02003050 2.244885 113  
[5] 0.5700483  0.02104728 2.230969 118  </code></pre>
</div>
</div>
<ul>
<li>좌항에서 우항, 우항에서 좌항의 규칙이 겹치는 경우가 있으므로 중복규칙 제거함수 구현</li>
</ul>
<div class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>prune.dup.rules <span class="ot">&lt;-</span> <span class="cf">function</span>(rules) {</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>                    rule.subset.matrix <span class="ot">&lt;-</span> <span class="fu">is.subset</span>(rules,rules,<span class="at">sparse=</span>F)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                    rule.subset.matrix[<span class="fu">lower.tri</span>(rule.subset.matrix, <span class="at">diag =</span>T)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>                    dup.rules <span class="ot">&lt;-</span> <span class="fu">colSums</span>(rule.subset.matrix,<span class="at">na.rm =</span>T) <span class="sc">&gt;=</span><span class="dv">1</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>                    pruned.rules <span class="ot">&lt;-</span> rules[<span class="sc">!</span>dup.rules]</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>                    <span class="fu">return</span> (pruned.rules)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>                    }</span></code></pre></div>
</div>
<ul>
<li>만약 우변의 아이템 구매를 이끌 아이템을 찾고 싶다면?</li>
</ul>
<div class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>metric.params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">supp=</span><span class="fl">0.001</span>,<span class="at">conf=</span><span class="fl">0.5</span>,<span class="at">minlen=</span><span class="dv">2</span>) <span class="do">## minlen은 좌항과 우항을 합친 최소 물품수</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">apriori</span>(Groceries,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">parameter =</span> metric.params,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">appearance =</span> <span class="fu">list</span>(<span class="at">default =</span> <span class="st">"lhs"</span>,<span class="at">rhs=</span><span class="st">"soda"</span>),</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">control =</span> <span class="fu">list</span>(<span class="at">verbose=</span>F))</span></code></pre></div>
</div>
<ul>
<li><code>apperance</code> : 우측의 <code>soda</code>를 사기위해 좌항의 아이템을 찾는 것으로 설정</li>
<li><code>verbose</code> : <code>apriori</code> 함수 실행 결과를 나타낼지의 여부를 묻는 인자</li>
</ul>
<div class="cell" data-execution_count="108">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">prune.dup.rules</span>(rules)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="109">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">sort</span>(rules,<span class="at">decreasing=</span>T,<span class="at">by=</span><span class="st">"confidence"</span>)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="110">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(rules[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    lhs                                     rhs    support     confidence
[1] {coffee,misc. beverages}             =&gt; {soda} 0.001016777 0.7692308 
[2] {sausage,bottled water,bottled beer} =&gt; {soda} 0.001118454 0.7333333 
[3] {sausage,white bread,shopping bags}  =&gt; {soda} 0.001016777 0.6666667 
[4] {rolls/buns,bottled water,chocolate} =&gt; {soda} 0.001321810 0.6500000 
[5] {pastry,misc. beverages}             =&gt; {soda} 0.001220132 0.6315789 
    coverage    lift     count
[1] 0.001321810 4.411303 10   
[2] 0.001525165 4.205442 11   
[3] 0.001525165 3.823129 10   
[4] 0.002033554 3.727551 13   
[5] 0.001931876 3.621912 12   </code></pre>
</div>
</div>
<ul>
<li>만약 좌변의 아이템 세트를 가지고 있을 때 물품을 찾고 싶다면?</li>
</ul>
<div class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>metric.params <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">supp=</span><span class="fl">0.001</span>,<span class="at">conf=</span><span class="fl">0.3</span>,<span class="at">minlen=</span><span class="dv">2</span>) <span class="do">## minlen은 좌항과 우항을 합친 최소 물품수</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">apriori</span>(Groceries,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>                 <span class="at">parameter =</span> metric.params,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">appearance =</span> <span class="fu">list</span>(<span class="at">default =</span> <span class="st">"rhs"</span>,<span class="at">lhs=</span><span class="fu">c</span>(<span class="st">"yogurt"</span>,<span class="st">"sugar"</span>)),</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">control =</span> <span class="fu">list</span>(<span class="at">verbose=</span>F))</span></code></pre></div>
</div>
<div class="cell" data-execution_count="114">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">prune.dup.rules</span>(rules)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="115">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>rules <span class="ot">&lt;-</span> <span class="fu">sort</span>(rules,<span class="at">decreasing=</span>T, <span class="at">by=</span><span class="st">"confidence"</span>)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">inspect</span>(rules,<span class="at">decreasing=</span>T,<span class="at">by=</span><span class="st">"confidence"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    lhs               rhs                  support     confidence coverage   
[1] {sugar}        =&gt; {whole milk}         0.015048297 0.4444444  0.033858668
[2] {yogurt}       =&gt; {whole milk}         0.056024403 0.4016035  0.139501779
[3] {sugar}        =&gt; {other vegetables}   0.010777834 0.3183183  0.033858668
[4] {yogurt}       =&gt; {other vegetables}   0.043416370 0.3112245  0.139501779
[5] {yogurt,sugar} =&gt; {whipped/sour cream} 0.002135231 0.3088235  0.006914082
[6] {yogurt,sugar} =&gt; {root vegetables}    0.002135231 0.3088235  0.006914082
    lift     count
[1] 1.739400 148  
[2] 1.571735 551  
[3] 1.645119 106  
[4] 1.608457 427  
[5] 4.308198  21  
[6] 2.833283  21  </code></pre>
</div>
</div>
<hr>
</section>
<section id="extra.-som-자기조직화지도" class="level2">
<h2 class="anchored" data-anchor-id="extra.-som-자기조직화지도">Extra. SOM (자기조직화지도)</h2>
<div class="cell" data-execution_count="107">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kohonen) <span class="do">## somgmgid를 위한함수</span></span></code></pre></div>
</div>
<div class="cell" data-execution_count="122">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>train <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">150</span>, <span class="dv">100</span>) <span class="co">#무작위로 100개 추출 (학습데이터)</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>train_Set <span class="ot">&lt;-</span>  <span class="fu">list</span>( <span class="at">x =</span> <span class="fu">as.matrix</span>(iris[train,<span class="sc">-</span><span class="dv">5</span>]), <span class="at">Species =</span> <span class="fu">as.factor</span>(iris[train,<span class="dv">5</span>])) <span class="co">#학습데이터 list형</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>test_Set <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">x =</span> <span class="fu">as.matrix</span>(iris[<span class="sc">-</span>train,<span class="sc">-</span><span class="dv">5</span>]), <span class="at">Species =</span> <span class="fu">as.factor</span>(iris[<span class="sc">-</span>train,<span class="dv">5</span>])) <span class="co">#테스트 데이터 list형</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>gr <span class="ot">&lt;-</span> <span class="fu">somgrid</span>(<span class="at">xdim =</span> <span class="dv">3</span>, <span class="at">ydim =</span> <span class="dv">5</span>, <span class="at">topo =</span> <span class="st">"hexagonal"</span>) <span class="co">#grid 갯수 및 모양 설정</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>ss <span class="ot">&lt;-</span> <span class="fu">supersom</span>(train_Set, gr, <span class="at">rlen =</span> <span class="dv">200</span>, <span class="at">alpha =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.01</span>)) <span class="co">#som 학습하기</span></span></code></pre></div>
</div>
<ul>
<li><p>grid : 경쟁층의 가충치 테이블을 <code>5 x 4</code>로 설정 topology 위상방법은 <code>rectangular, hexagonal</code> 두가지 중 하나를 설정한다.</p></li>
<li><p>rlen : 전체 데이트 세트가 네트워크에 표시되는 횟수 (= 학습 횟수)</p></li>
<li><p>alpha : 학습율, 변화의 양을 나타내는 두 개의 숫자의 벡터. 기본값은 rlen 업데이트에 대해 0.05에서 0.01로 선형적으로 감소하는 것이다.</p></li>
</ul>
<div class="cell" data-execution_count="123">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(ss)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>SOM of size 3x5 with a hexagonal topology and a bubble neighbourhood function.
The number of data layers is 2.
Distance measure(s) used: sumofsquares, tanimoto.
Training data included: 100 objects.
Mean distance to the closest unit in the map: 0.008.</code></pre>
</div>
</div>
<ul>
<li><p>요약결과 가장 가까운 노드까지의 평균 거리가 0.008 이다.</p></li>
<li><p>학습을 거듭하면서 뉴런과 학습 데이터의 거리가 짧아짐을 아래와 같이 확인할 수 있었다.</p></li>
</ul>
<div class="cell" data-execution_count="148">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ss,<span class="at">type=</span><span class="st">"change"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-37-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li><p>또한 학습된 som모델의 각 뉴런이 몇 개의 학습 데이터와 매핑이 되는 지를 확인 할 수 있었다.</p></li>
<li><p>결과적으로 보았을 때 매핑이 더ㅣ지않은 뉴런이 존재하는 것으로 보아 생성한 <code>som</code> 모델의 신경망 크기가 크다는 것을 의미한다.</p></li>
</ul>
<div class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ss, <span class="at">type=</span><span class="st">"count"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-38-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>아래와 같이 통합거리매트릭스를 그려 각 뉴런의 이웃간 거리를 표현할 수 있었다. 값이 높을 수록 해당 뉴런은 이웃뉴련과 비유사하다고 할 수 있다.</li>
</ul>
<div class="cell" data-execution_count="150">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ss, <span class="at">type=</span><span class="st">"dist.neighbours"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-39-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>또한 아래그림처럼 각 뉴런에서 <code>Species</code>의 속성들 가중치 기여율을 알 수 있다.</li>
</ul>
<div class="cell" data-execution_count="151">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ss, <span class="at">type=</span><span class="st">"codes"</span>)</span></code></pre></div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-40-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-display">
<p><img src="Unsupervised Learning(1204)_files/figure-html/cell-40-output-2.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>학습된 모델을 통해 학습에 사용된 데이터 분류와 모델분류를 확인하기 위해 혼동행렬을 그려보면 아래와 같다.</li>
</ul>
<div class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>som.prediction <span class="ot">&lt;-</span> <span class="fu">predict</span>(ss, <span class="at">newdata =</span> test_Set[<span class="dv">1</span>],<span class="at">type=</span><span class="st">"class"</span>)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="163">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>som.prediction<span class="sc">$</span>predictions<span class="sc">$</span>Species</span></code></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>setosa</li><li>&lt;NA&gt;</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>&lt;NA&gt;</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>versicolor</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>versicolor</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li><li>virginica</li></ol>

<details>
    <summary style="display:list-item;cursor:pointer">
        <strong>Levels</strong>:
    </summary>
    <style>
    .list-inline {list-style: none; margin:0; padding: 0}
    .list-inline>li {display: inline-block}
    .list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
    </style>
    <ol class="list-inline"><li>'setosa'</li><li>'versicolor'</li><li>'virginica'</li></ol>
</details>
</div>
</div>
<div class="cell" data-execution_count="158">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span></code></pre></div>
</div>
<div class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confusionMatrix</span>(som.prediction<span class="sc">$</span>predictions<span class="sc">$</span>Species,test_Set<span class="sc">$</span>Species)</span></code></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Confusion Matrix and Statistics

            Reference
Prediction   setosa versicolor virginica
  setosa         12          0         0
  versicolor      0         14         1
  virginica       0          0        21

Overall Statistics
                                          
               Accuracy : 0.9792          
                 95% CI : (0.8893, 0.9995)
    No Information Rate : 0.4583          
    P-Value [Acc &gt; NIR] : 3.148e-15       
                                          
                  Kappa : 0.9677          
                                          
 Mcnemar's Test P-Value : NA              

Statistics by Class:

                     Class: setosa Class: versicolor Class: virginica
Sensitivity                   1.00            1.0000           0.9545
Specificity                   1.00            0.9706           1.0000
Pos Pred Value                1.00            0.9333           1.0000
Neg Pred Value                1.00            1.0000           0.9630
Prevalence                    0.25            0.2917           0.4583
Detection Rate                0.25            0.2917           0.4375
Detection Prevalence          0.25            0.3125           0.4375
Balanced Accuracy             1.00            0.9853           0.9773</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'alternate';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>