<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="GANGCHEOL LEE">
<meta name="dcterms.date" content="2021-06-28">

<title>Gangcheol - 11. Time-seris analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../../">
<link href="../../../../post/Lecture/STBD/2022-03-08-(1주차).html" rel="next">
<link href="../../../../post/Lecture/RFD/통계분석/다차원척도법(1204).html" rel="prev">
<script src="../../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../../../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../../index.html">
    <span class="navbar-title">Gangcheol</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../../../about.html" aria-current="page">
 <span class="menu-text"><strong>About Me</strong></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gangcheol/"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">11. Time-seris analysis</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title d-none d-lg-block">11. Time-seris analysis</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">R</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>GANGCHEOL LEE </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 28, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../about.html" class="sidebar-item-text sidebar-link"><strong>About Me</strong></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Post</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">Etc</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">Tableau</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/tableau/2023-07-26-ch.1.html" class="sidebar-item-text sidebar-link">ch1. 태블로 이해하기</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/tableau/2023-07-27-ch.2.html" class="sidebar-item-text sidebar-link">ch2. 태블로 기초 이해</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">toeic speaking</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/toeic speaking/part1.html" class="sidebar-item-text sidebar-link">part 1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/toeic speaking/part2.html" class="sidebar-item-text sidebar-link">part 2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/toeic speaking/part3.html" class="sidebar-item-text sidebar-link">part 3</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/toeic speaking/part4.html" class="sidebar-item-text sidebar-link">part 4</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/toeic speaking/part5.html" class="sidebar-item-text sidebar-link">part 5</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/etc/toeic speaking/summary.html" class="sidebar-item-text sidebar-link">summary</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Lecture</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth2 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">IP</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/IP/2023-05-16-01wk.html" class="sidebar-item-text sidebar-link">01. 자료형</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/IP/2023-05-23-02wk.html" class="sidebar-item-text sidebar-link">02. 리스트</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">RFD</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth3 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">데이터마이닝</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/데이터마이닝/Supervised Learning.html" class="sidebar-item-text sidebar-link">01. Supervised Learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/데이터마이닝/Unsupervised Learning(1204).html" class="sidebar-item-text sidebar-link">02. unsupervised learning</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/데이터마이닝/텍스트마이닝.html" class="sidebar-item-text sidebar-link">03. Text Mining</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">데이터전처리</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth4 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/데이터전처리/결측치(1205).html" class="sidebar-item-text sidebar-link">01. 결측치 처리</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/데이터전처리/표준화와 정규화(1205).html" class="sidebar-item-text sidebar-link">02. 표준화와 정규화</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/데이터전처리/날짜 데이터 전처리.html" class="sidebar-item-text sidebar-link">03. 날짜 데이터</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">통계분석</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth4 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/데이터 샘플링.html" class="sidebar-item-text sidebar-link">01. sampling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/T-검정.html" class="sidebar-item-text sidebar-link">02. T-test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/분산분석(ANOVA).html" class="sidebar-item-text sidebar-link">03. ANOVA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/교차분석.html" class="sidebar-item-text sidebar-link">04. chi-square test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/상관분석.html" class="sidebar-item-text sidebar-link">05. cor-test</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/회귀분석.html" class="sidebar-item-text sidebar-link">06. regression analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/고급회귀분석.html" class="sidebar-item-text sidebar-link">07. regression analysis-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/주성분분석(1204).html" class="sidebar-item-text sidebar-link">08. PCA</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/요인분석(1205).html" class="sidebar-item-text sidebar-link">09. Factor Analysis</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/다차원척도법(1204).html" class="sidebar-item-text sidebar-link">10. Multidimensional scaling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/RFD/통계분석/시계열 분석.html" class="sidebar-item-text sidebar-link active">11. Time-seris analysis</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">STBD</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-03-08-(1주차).html" class="sidebar-item-text sidebar-link">01. 단순선형회귀</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-03-14-(2주차).html" class="sidebar-item-text sidebar-link">02. Tensorflow-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-03-21-(3주차).html" class="sidebar-item-text sidebar-link">03. Tensorflow-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-03-28-(4주차).html" class="sidebar-item-text sidebar-link">04. 경사하강법-1</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-03-30-(5주차).html" class="sidebar-item-text sidebar-link">05. 경사하강법-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-04-11-(6주차).html" class="sidebar-item-text sidebar-link">06. layer</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2020-04-12-(6주차) 과제.html" class="sidebar-item-text sidebar-link">06. layer 과제</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-04-18-(7주차).html" class="sidebar-item-text sidebar-link">07. Adam</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-04-27-중간고사 해설.html" class="sidebar-item-text sidebar-link">08. Mid term</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-05-01-(9주차).html" class="sidebar-item-text sidebar-link">09. MLE</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-05-02-lecture.html" class="sidebar-item-text sidebar-link">10. 확률적 경사하강법</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-05-08-lecture.html" class="sidebar-item-text sidebar-link">11. softmax</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-05-11-(11주차).html" class="sidebar-item-text sidebar-link">12. Max pooling, CNN</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-05-23-(12주차).html" class="sidebar-item-text sidebar-link">13. CNN-2</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-05-30-(13주차).html" class="sidebar-item-text sidebar-link">13. model fitting</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STBD/2022-06-13-기말고사 문제풀이.html" class="sidebar-item-text sidebar-link">14. Final term</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">STDV</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-02-24-boxplot, histogram.html" class="sidebar-item-text sidebar-link">01. intro</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-04-08-02wk.html" class="sidebar-item-text sidebar-link">02. Histogram equalization</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-04-15-4wk.html" class="sidebar-item-text sidebar-link">03. 그래프를 그리는 여러 방법</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2022-04-22-5wk.html" class="sidebar-item-text sidebar-link">04. qqplot, 찰스미나도의 도표</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-04-29-6wk.html" class="sidebar-item-text sidebar-link">05. Plotnine &amp; Pandas</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-06-7wk.html" class="sidebar-item-text sidebar-link">06. Partial Correlation &amp; Pandas Handling</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-13-8wk.html" class="sidebar-item-text sidebar-link">07. tidydata</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-14-midsol.html" class="sidebar-item-text sidebar-link">08. mid term</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-15-11wk.html" class="sidebar-item-text sidebar-link">09. folium</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-16-12wk.html" class="sidebar-item-text sidebar-link">10. Choropleth Map</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-17-13wk.html" class="sidebar-item-text sidebar-link">11. Choropleth Map &amp; Plotly</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STDV/2023-05-17-final term.html" class="sidebar-item-text sidebar-link">12. final term</a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">STML</a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" aria-expanded="false">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth3 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2022-01-27-Intro.html" class="sidebar-item-text sidebar-link">01. Intro</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-02-01-Overview.html" class="sidebar-item-text sidebar-link">02. Overview</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-02-04-DNN 딥러닝의 기초 (1).html" class="sidebar-item-text sidebar-link">03. 딥러닝의 기초 (1)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-02-11 DNN 딥러닝의 기초 (2).html" class="sidebar-item-text sidebar-link">04. 딥러닝의 기초 (2)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-02-18 DNN 딥러닝의 기초 (3).html" class="sidebar-item-text sidebar-link">05. 딥러닝의 기초 (3)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-02-25 DNN 딥러닝의 기초 (4).html" class="sidebar-item-text sidebar-link">06. 딥러닝의 기초 (4)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-03-01-DNN 딥러닝의 기초(5).html" class="sidebar-item-text sidebar-link">07. 딥러닝의 기초 (5)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-03-08-8wk2.html" class="sidebar-item-text sidebar-link">08. 이미지분석 (1)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-03-07-8wk1.html" class="sidebar-item-text sidebar-link">09. 이미지분석 (2)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-03-22-9wk.html" class="sidebar-item-text sidebar-link">10. 순환신경망 (1)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-03-29-10wk.html" class="sidebar-item-text sidebar-link">11. 순환신경망 (2)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-04-05-11wk.html" class="sidebar-item-text sidebar-link">12. 순환신경망 (3)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-04-12-12wk.html" class="sidebar-item-text sidebar-link">13. 순환신경망 (4)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-04-19-13wk.html" class="sidebar-item-text sidebar-link">14. 순환신경망 (5)</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-04-26-Extra-1.html" class="sidebar-item-text sidebar-link">15. Extra-1: 추천시스템</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../../post/Lecture/STML/2023-05-03-Extra-2.html" class="sidebar-item-text sidebar-link">16. Extra-2: 생성모형 (GAN)</a>
  </div>
</li>
      </ul>
  </li>
      </ul>
  </li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#학습목표" id="toc-학습목표" class="nav-link active" data-scroll-target="#학습목표">0. 학습목표</a></li>
  <li><a href="#정상성" id="toc-정상성" class="nav-link" data-scroll-target="#정상성">1. 정상성</a></li>
  <li><a href="#시계열자료-분석-방법" id="toc-시계열자료-분석-방법" class="nav-link" data-scroll-target="#시계열자료-분석-방법">2. 시계열자료 분석 방법</a>
  <ul class="collapse">
  <li><a href="#가.-분석-방법" id="toc-가.-분석-방법" class="nav-link" data-scroll-target="#가.-분석-방법">가. 분석 방법</a>
  <ul class="collapse">
  <li><a href="#a.-단기-예측---이동평균법" id="toc-a.-단기-예측---이동평균법" class="nav-link" data-scroll-target="#a.-단기-예측---이동평균법">A. 단기 예측 - 이동평균법</a></li>
  <li><a href="#b.-단기-예측---지수평활법" id="toc-b.-단기-예측---지수평활법" class="nav-link" data-scroll-target="#b.-단기-예측---지수평활법">B. 단기 예측 - 지수평활법</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#시계열-모형" id="toc-시계열-모형" class="nav-link" data-scroll-target="#시계열-모형">4. 시계열 모형</a>
  <ul class="collapse">
  <li><a href="#가.-자기회귀-모형-ar-모형-autoregressive-model" id="toc-가.-자기회귀-모형-ar-모형-autoregressive-model" class="nav-link" data-scroll-target="#가.-자기회귀-모형-ar-모형-autoregressive-model">가. 자기회귀 모형 (AR 모형, Autoregressive Model)</a></li>
  <li><a href="#나.-이동평균-모형-ma-모형-moving-average-model" id="toc-나.-이동평균-모형-ma-모형-moving-average-model" class="nav-link" data-scroll-target="#나.-이동평균-모형-ma-모형-moving-average-model">나. 이동평균 모형 (MA 모형, Moving Average Model)</a></li>
  <li><a href="#다.-자기회귀누적이동평균-모형-arima-pdq-모형-autoregressive-integrated-moving-average-model" id="toc-다.-자기회귀누적이동평균-모형-arima-pdq-모형-autoregressive-integrated-moving-average-model" class="nav-link" data-scroll-target="#다.-자기회귀누적이동평균-모형-arima-pdq-모형-autoregressive-integrated-moving-average-model">다. 자기회귀누적이동평균 모형 (ARIMA (p,d,q) 모형 , Autoregressive integrated moving average model)</a></li>
  <li><a href="#practice-with-r-2" id="toc-practice-with-r-2" class="nav-link" data-scroll-target="#practice-with-r-2">Practice with R</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="학습목표" class="level1">
<h1>0. 학습목표</h1>
<ul>
<li><p>정상 시계열과 비정상 시계열을 구분할 줄 알아야한다.</p></li>
<li><p>정상성을 만족하지 못하는 시계열 자료는 다른 시기로 일반화 할 수 없기 때문에 정상 시계열로 전환 후에 모형을 적합해주어야 한다.</p></li>
<li><p>ARIMA 모형과 분해 시계열 분석을 할 수 있다.</p></li>
</ul>
<hr>
</section>
<section id="정상성" class="level1">
<h1>1. 정상성</h1>
<ul>
<li><p>우리는 강정상성과 약정상 중에서 약정상성에 대해서만 다룬다.</p></li>
<li><p>정의 : 시계열 자료의 확률적인 성질 (평균, 분산, 공분산, 분포)들이 시간의 흐름(시점)에 따라 불변한다.</p></li>
<li><p>평균이 일정하다 <span class="math inline">\(\to\)</span> <strong>“뚜렷한 추세가 없다”</strong> 라는 뜻과 동일하다.</p>
<ul>
<li>평균이 일정하지 않은 시계열은 <strong>차분(difference)</strong>을 통해 정상화할 수 있다.</li>
</ul></li>
<li><p>분산이 일정하지 않을 경우 적절한 변수 <strong>변환(Transform)</strong>을 통해 정상화할 수 있다.</p></li>
</ul>
<hr>
</section>
<section id="시계열자료-분석-방법" class="level1">
<h1>2. 시계열자료 분석 방법</h1>
<section id="가.-분석-방법" class="level2">
<h2 class="anchored" data-anchor-id="가.-분석-방법">가. 분석 방법</h2>
<section id="a.-단기-예측---이동평균법" class="level3">
<h3 class="anchored" data-anchor-id="a.-단기-예측---이동평균법">A. 단기 예측 - 이동평균법</h3>
<ul>
<li><p>과거로부터 현재까지의 시계열 자료를 대상으로 일정기간별 이동평균을 계산하고, 이들의 추세를 파악하여 다음 기간을 예측하는 방법</p></li>
<li><p>즉 표본평균처럼 관측값 전부에 동일한 가중치를 주는 대신에 최근 <span class="math inline">\(m\)</span> 개의 값들만을 이용하여 평균을 구하는 방법이다.</p></li>
<li><p>예측보다는 원 시계열 자료에서 계절변동과 불규칙 변동을 제거하여 추세변동과 순환변동만 가진 시계열로 변환하는 방법으로도 사용됨</p>
<ul>
<li>이론적인 설명은 저건데 모형 적합시에는 <span class="math inline">\(\hat {Z}_t = \hat {T}_t + \hat {S}_t\)</span> 로 예측값을 추정함</li>
<li>가법모형은 계절성분의 진폭이 시계열 수준에 상관없이 일정할 때 사용 <span class="math inline">\(\hat {Z}_t = \hat {T}_t + \hat {S}_t\)</span></li>
<li>승법모형은 계절성분의 진폭이 시계열 수준에 따라 달라질 때 사용 <span class="math inline">\(\hat {Z}_t = \hat {T}_t \times \hat {S}_t\)</span></li>
</ul></li>
<li><p><span class="math inline">\(n+1\)</span> 시점의 데이터를 <span class="math inline">\(m\)</span>개의 데이터를 가지고 예측하는 경우는 다음과 같다.</p></li>
</ul>
<p><span class="math display">\[F_{n+1} = \frac {1}{m}(Z_n + Z_{n-1} + \dots Z_{n-m+1}) =\frac 1m \sum_{t}^{n}Z_t, \quad t=n-m+1\]</span></p>
<section id="practice-with-r" class="level4">
<h4 class="anchored" data-anchor-id="practice-with-r">Practice with R</h4>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(forecast) <span class="do">## 예측값을 구하기 위한 패키지</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(TTR) <span class="do">## 이동평균법을 이용하기 위한 패키지</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(lmtest) <span class="do">## 더비-왓슨 검정 </span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(tidyverse) <span class="do">## 전처리 패키지</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">setwd</span>(<span class="st">"C:</span><span class="sc">\\</span><span class="st">Users</span><span class="sc">\\</span><span class="st">lee</span><span class="sc">\\</span><span class="st">Desktop</span><span class="sc">\\</span><span class="st">고급시계열 분석</span><span class="sc">\\</span><span class="st">제5판_시계열분석_프로그램</span><span class="sc">\\</span><span class="st">제5판 시계열분석 data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>데이터 호출 : 주기는 12로 월별 데이터임</li>
</ul>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>z <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="st">"food.txt"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a>t <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(z)</span>
<span id="cb3-3"><a href="#cb3-3"></a>food <span class="ot">&lt;-</span> <span class="fu">ts</span>(z, <span class="at">start=</span><span class="fu">c</span>(<span class="dv">1981</span>,<span class="dv">1</span>), <span class="at">frequency=</span><span class="dv">12</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>시도표 확인 <br> <code>1</code>. 추세성분이 보인다. <br> <code>2</code>. 계절성분이 보인다. <br> <code>3</code>. 이분산성이 보인다. <br></li>
</ul>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">options</span>(<span class="at">repr.plot.res=</span><span class="dv">200</span>,<span class="at">repr.plot.height=</span><span class="dv">6</span>,<span class="at">repr.plot.width=</span><span class="dv">10</span>)</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">plot.ts</span>(food)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-5-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>이분산성을 제거하기 위해 로그변환을 시도</li>
</ul>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>log_food <span class="ot">&lt;-</span> <span class="fu">log</span>(food)</span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="fu">plot.ts</span>(log_food)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-6-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="stl" class="level4">
<h4 class="anchored" data-anchor-id="stl">stl</h4>
<ul>
<li><strong>stl</strong> function을 이용하여 모델 적합</li>
</ul>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>stl_fit1  <span class="ot">&lt;-</span> <span class="fu">stl</span>(log_food,<span class="at">s.window=</span><span class="dv">12</span>) <span class="do">## s.window=12 : 계절성분의 주기가 12이다.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>stl_fit1<span class="sc">$</span>time.series[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A matrix: 10 × 3 of type dbl</caption>
<thead>
    <tr><th scope="col">seasonal</th><th scope="col">trend</th><th scope="col">remainder</th></tr>
</thead>
<tbody>
    <tr><td>-0.09035504</td><td>3.789108</td><td> 0.09223150</td></tr>
    <tr><td>-0.14793139</td><td>3.787232</td><td> 0.04957932</td></tr>
    <tr><td>-0.01989614</td><td>3.785355</td><td>-0.03017285</td></tr>
    <tr><td> 0.03829580</td><td>3.783478</td><td>-0.04901299</td></tr>
    <tr><td> 0.09453872</td><td>3.782254</td><td>-0.04815173</td></tr>
    <tr><td> 0.04378729</td><td>3.781031</td><td>-0.01593573</td></tr>
    <tr><td> 0.01632246</td><td>3.779807</td><td>-0.01421511</td></tr>
    <tr><td> 0.05405767</td><td>3.779134</td><td>-0.03770230</td></tr>
    <tr><td> 0.03906545</td><td>3.778461</td><td>-0.04937347</td></tr>
    <tr><td>-0.01779740</td><td>3.777788</td><td> 0.02192421</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li><p>계절성분, 추세성분, 불규칙성분의 값들을 볼 수 있음.</p></li>
<li><p>추세성분으로 추정한 경우 <span class="math inline">\(\hat {\beta}_0 + \hat{\beta}_1z_t= 0.07 + 3.7z_t\)</span>로 앞서 구한 데이터와 동일(이건 수업시간에 한거에 나와있음)</p></li>
</ul>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">plot</span>(stl_fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-9-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>추정값을 구해보자</li>
</ul>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>pred_stl <span class="ot">&lt;-</span> stl_fit1<span class="sc">$</span>time.series[,<span class="dv">1</span>] <span class="sc">+</span> stl_fit1<span class="sc">$</span>time.series[,<span class="dv">2</span>] <span class="do">## 추세성분 + 계절성분</span></span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">ts.plot</span>(log_food, pred_stl, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">ylab=</span><span class="st">"food"</span>, <span class="at">xlab=</span><span class="st">"time"</span>,</span>
<span id="cb9-4"><a href="#cb9-4"></a>        <span class="at">main=</span><span class="st">"원시계열과 분해법에 의한 추정값"</span>,<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb9-5"><a href="#cb9-5"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"원시계열"</span>, <span class="st">"추정값"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-10-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>irregular <span class="ot">&lt;-</span> log_food<span class="sc">-</span>pred_stl</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">sum</span>(irregular<span class="sc">^</span><span class="dv">2</span>)<span class="sc">/</span>(<span class="fu">length</span>(log_food)<span class="sc">-</span><span class="dv">1</span>) <span class="do">## MSE 계산</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
0.001245257904363
</div>
</div>
</section>
<section id="decompose" class="level4">
<h4 class="anchored" data-anchor-id="decompose">decompose</h4>
<ul>
<li><strong>decompose</strong> function을 이용하여 모형 적합</li>
</ul>
<div class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>dec_fit  <span class="ot">&lt;-</span> <span class="fu">decompose</span>(log_food)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>dec_fit<span class="sc">$</span>trend[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>3.77690915526943</li><li>3.76817147387211</li><li>3.76564962747204</li><li>3.77219261288612</li></ol>
</div>
</div>
<div class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>dec_fit<span class="sc">$</span>seasonal[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>-0.0799020938844753</li><li>-0.146043800620445</li><li>-0.0127449318360131</li><li>0.0404967761446012</li><li>0.0906818438956577</li><li>0.0396786699328498</li><li>0.0104817714159228</li><li>0.058761909130355</li><li>0.041341551797343</li><li>-0.0179374241117825</li></ol>
</div>
</div>
<div class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>dec_fit<span class="sc">$</span>random[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>] <span class="do">## 불규칙성분</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>-0.00547660660422888</li><li>-0.0314441938302674</li><li>-0.0388385442609369</li><li>0.0276591313067893</li></ol>
</div>
</div>
<div class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">plot</span>(dec_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-16-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>추정치 구하기</li>
</ul>
<div class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>pred_dec <span class="ot">&lt;-</span>dec_fit<span class="sc">$</span>trend<span class="sc">+</span>dec_fit<span class="sc">$</span>seasonal</span>
<span id="cb16-2"><a href="#cb16-2"></a></span>
<span id="cb16-3"><a href="#cb16-3"></a><span class="fu">ts.plot</span>(pred_stl, pred_dec, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">ylab=</span><span class="st">"food"</span>, <span class="at">xlab=</span><span class="st">"time"</span>,</span>
<span id="cb16-4"><a href="#cb16-4"></a>        <span class="at">main=</span><span class="st">"원시계열과 분해법에 의한 추정값"</span>,<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb16-5"><a href="#cb16-5"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"원시계열"</span>, <span class="st">"추정값"</span>),<span class="at">lwd=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-17-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>stl vs decompose</li>
</ul>
<div class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">ts.plot</span>(pred_stl, pred_dec, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">ylab=</span><span class="st">"food"</span>, <span class="at">xlab=</span><span class="st">"time"</span>,</span>
<span id="cb17-2"><a href="#cb17-2"></a>        <span class="at">main=</span><span class="st">"stl vs. decompose"</span>,<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"stl"</span>, <span class="st">"decompose"</span>),<span class="at">lwd=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-18-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>stl과 달리 decompose는 승법모형을 지원해준다.</li>
</ul>
<div class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>dec_fit2 <span class="ot">&lt;-</span> <span class="fu">decompose</span>(food, <span class="at">type =</span> <span class="st">"multiplicative"</span>)</span>
<span id="cb18-2"><a href="#cb18-2"></a>dec_fit2<span class="sc">$</span>trend[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>43.7291666666667</li><li>43.3791666666667</li><li>43.2916666666667</li><li>43.5875</li></ol>
</div>
</div>
<div class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>dec_fit2<span class="sc">$</span>seasonal[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>0.921924635682952</li><li>0.862121337342116</li><li>0.984496047595144</li><li>1.03800419801353</li><li>1.09165048953458</li><li>1.03785933682056</li><li>1.00800290560749</li><li>1.05917098565118</li><li>1.04275403563162</li><li>0.980759172033513</li></ol>
</div>
</div>
<div class="cell" data-execution_count="86">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>dec_fit2<span class="sc">$</span>random[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>&lt;NA&gt;</li><li>0.99593623849331</li><li>0.968529226913935</li><li>0.959183526128173</li><li>1.0269284401149</li></ol>
</div>
</div>
<div class="cell" data-execution_count="87">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">plot</span>(dec_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-22-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="89">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>pred_dec2 <span class="ot">&lt;-</span>dec_fit2<span class="sc">$</span>trend<span class="sc">*</span>dec_fit2<span class="sc">$</span>seasonal</span>
<span id="cb22-2"><a href="#cb22-2"></a></span>
<span id="cb22-3"><a href="#cb22-3"></a><span class="fu">ts.plot</span>(food, pred_dec2, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">ylab=</span><span class="st">"food"</span>, <span class="at">xlab=</span><span class="st">"time"</span>,</span>
<span id="cb22-4"><a href="#cb22-4"></a>        <span class="at">main=</span><span class="st">"원시계열과 분해법에 의한 추정값"</span>,<span class="at">lwd=</span><span class="dv">2</span>)</span>
<span id="cb22-5"><a href="#cb22-5"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"원시계열"</span>, <span class="st">"추정값"</span>),<span class="at">lwd=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-23-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>가법모형 vs 승법모형</li>
</ul>
<div class="cell" data-execution_count="90">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">ts.plot</span>(<span class="fu">exp</span>(pred_dec), pred_dec2, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">ylab=</span><span class="st">"food"</span>, <span class="at">xlab=</span><span class="st">"time"</span>,</span>
<span id="cb23-2"><a href="#cb23-2"></a>        <span class="at">main=</span><span class="st">"가법모형과 승법모형 추정값"</span>)</span>
<span id="cb23-3"><a href="#cb23-3"></a><span class="fu">legend</span>(<span class="st">"topleft"</span>, <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="at">col=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"가법모형"</span>, <span class="st">"승법모형"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-24-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>승법모형과 가법모형 비교 결과 거의 동일한 모형임을 확인할 수 있다.</li>
</ul>
<hr>
</section>
</section>
<section id="b.-단기-예측---지수평활법" class="level3">
<h3 class="anchored" data-anchor-id="b.-단기-예측---지수평활법">B. 단기 예측 - 지수평활법</h3>
<ul>
<li><p>이동평균법이 <span class="math inline">\(m\)</span>개의 데이터의 평균을 이용하여(=동일한 가중치를 부여) <span class="math inline">\(n+1\)</span> 시점의 예측값을 구했다면</p></li>
<li><p>지수평활법은 최근 시점에 관측치에 더 많은 가중치를 부여하여 미래를 예측하는 방법이다.</p></li>
</ul>
<p>$F_{n+1} = Z_n + (1-) Z_{n-1} + (1-)^nZ_0 $</p>
<ul>
<li><p><span class="math inline">\(\alpha=\)</span> 지수평활계수로 작을수록 과거시점에 가중치를 더 많이 주고, 클 수록 현시점에 가중치를 많이 준다.</p>
<ul>
<li><span class="math inline">\(\alpha\)</span>는 예측오차를 비교하여 예측오차가 가장 작은값을 선택하는 것이 바람직함</li>
<li>불규칙변동이 큰 시계열의 경우 작은 값을, 작을 경우 큰 값을 적용</li>
</ul></li>
<li><p>또한 이동평균법과 달리 모든 <span class="math inline">\(m\)</span>개가 아닌 전체 데이터를 고려하여 예측값을 산출한다.</p></li>
<li><p>추세성분과 계절성분이 없을 경우 <span class="math inline">\(\to\)</span> 단순지수평활법</p></li>
<li><p>추세성분이 있고 계절성분이 없는 경우 <span class="math inline">\(\to\)</span> 이중지수평활법</p></li>
<li><p>추세성분과 계절성이 모두 관측된 경우 <span class="math inline">\(\to\)</span> winters 계절지수 평활법</p></li>
</ul>
<section id="practice-with-r-1" class="level4">
<h4 class="anchored" data-anchor-id="practice-with-r-1">Practice with R</h4>
</section>
<section id="단순지수-평활법" class="level4">
<h4 class="anchored" data-anchor-id="단순지수-평활법">단순지수 평활법</h4>
<div class="cell" data-execution_count="105">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>rain  <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="st">"precip1.txt"</span>,<span class="at">skip=</span><span class="dv">1</span>)</span>
<span id="cb24-2"><a href="#cb24-2"></a>rainseries <span class="ot">&lt;-</span> <span class="fu">ts</span>(rain,<span class="at">start=</span><span class="fu">c</span>(<span class="dv">1813</span>))</span>
<span id="cb24-3"><a href="#cb24-3"></a>rainseries <span class="do">## 1년 주기 데이터</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
A Time Series:<br><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>23.56</li><li>26.07</li><li>21.86</li><li>31.24</li><li>23.65</li><li>23.88</li><li>26.41</li><li>22.67</li><li>31.69</li><li>23.86</li><li>24.11</li><li>32.43</li><li>23.26</li><li>22.57</li><li>23</li><li>27.88</li><li>25.32</li><li>25.08</li><li>27.76</li><li>19.82</li><li>24.78</li><li>20.12</li><li>24.34</li><li>27.42</li><li>19.44</li><li>21.63</li><li>27.49</li><li>19.43</li><li>31.13</li><li>23.09</li><li>25.85</li><li>22.65</li><li>22.75</li><li>26.36</li><li>17.7</li><li>29.81</li><li>22.93</li><li>19.22</li><li>20.63</li><li>35.34</li><li>25.89</li><li>18.65</li><li>23.06</li><li>22.21</li><li>22.18</li><li>18.77</li><li>28.21</li><li>32.24</li><li>22.27</li><li>27.57</li><li>21.59</li><li>16.93</li><li>29.48</li><li>31.6</li><li>26.25</li><li>23.4</li><li>25.42</li><li>21.32</li><li>25.02</li><li>33.86</li><li>22.67</li><li>18.82</li><li>28.44</li><li>26.16</li><li>28.17</li><li>34.08</li><li>33.82</li><li>30.28</li><li>27.92</li><li>27.14</li><li>24.4</li><li>20.35</li><li>26.64</li><li>27.01</li><li>19.21</li><li>27.74</li><li>23.85</li><li>21.23</li><li>28.15</li><li>22.61</li><li>19.8</li><li>27.94</li><li>21.47</li><li>23.52</li><li>22.86</li><li>17.69</li><li>22.54</li><li>23.28</li><li>22.17</li><li>20.84</li><li>38.1</li><li>20.65</li><li>22.97</li><li>24.26</li><li>23.01</li><li>23.67</li><li>26.75</li><li>25.36</li><li>24.79</li><li>27.88</li></ol>
</div>
</div>
<ul>
<li>시도료를 살펴본결과 추세와 계절성분이 관측되지 않아 단순지수평활법을 사용하겠음</li>
</ul>
<div class="cell" data-execution_count="106">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a><span class="fu">plot.ts</span>(rainseries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-26-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>[단순지수평활법] HoltWinters</li>
</ul>
<div class="cell" data-execution_count="111">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>rainforecasts <span class="ot">=</span> <span class="fu">HoltWinters</span>(rainseries, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>) </span>
<span id="cb26-2"><a href="#cb26-2"></a>rainforecasts <span class="do">## alpha=단순지수 평활법, beta = 추세성분 가중치 , gamma = 계절성분 가중치</span></span>
<span id="cb26-3"><a href="#cb26-3"></a><span class="do">## alpha 값을 지정하지 않으면 최적의 alpha를 찾아줌</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing without trend and without seasonal component.

Call:
HoltWinters(x = rainseries, beta = FALSE, gamma = FALSE)

Smoothing parameters:
 alpha: 0.02412151
 beta : FALSE
 gamma: FALSE

Coefficients:
      [,1]
a 24.67819</code></pre>
</div>
</div>
<ul>
<li><span class="math inline">\(\alpha = 0.024\dots\)</span> 로 산출</li>
<li><span class="math inline">\(\alpha\)</span>가 작다는 것은 과거값의 가중치를 더 많이 주는 것이므로 <strong>smoothing</strong> 효과가 더욱 커진다.</li>
</ul>
<div class="cell" data-execution_count="113">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">head</span>(rainforecasts<span class="sc">$</span>fitted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A Time Series: 6 × 2</caption>
<thead>
    <tr><th></th><th scope="col">xhat</th><th scope="col">level</th></tr>
</thead>
<tbody>
    <tr><th scope="row">1814</th><td>23.56000</td><td>23.56000</td></tr>
    <tr><th scope="row">1815</th><td>23.62054</td><td>23.62054</td></tr>
    <tr><th scope="row">1816</th><td>23.57808</td><td>23.57808</td></tr>
    <tr><th scope="row">1817</th><td>23.76290</td><td>23.76290</td></tr>
    <tr><th scope="row">1818</th><td>23.76017</td><td>23.76017</td></tr>
    <tr><th scope="row">1819</th><td>23.76306</td><td>23.76306</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="116">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">plot</span>(rainforecasts) <span class="do">## 빨간색은 smoothing 효과가 반영된 것이다.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-29-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>오차제곱합 계산</li>
</ul>
<div class="cell" data-execution_count="117">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>rainforecasts<span class="sc">$</span>SSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
1828.8548918638
</div>
</div>
<ul>
<li><span class="math inline">\(\alpha\)</span> 값을 변화해가며 비교</li>
</ul>
<div class="cell" data-execution_count="120">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>))</span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="fu">plot</span>(<span class="fu">HoltWinters</span>(rainseries, <span class="at">alpha=</span><span class="fl">0.3</span>,</span>
<span id="cb31-3"><a href="#cb31-3"></a>                 <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>), <span class="at">main=</span><span class="st">"Alpha=0.3"</span>)</span>
<span id="cb31-4"><a href="#cb31-4"></a></span>
<span id="cb31-5"><a href="#cb31-5"></a><span class="fu">plot</span>(<span class="fu">HoltWinters</span>(rainseries, <span class="at">alpha=</span><span class="fl">0.7</span>,</span>
<span id="cb31-6"><a href="#cb31-6"></a>                 <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>), <span class="at">main=</span><span class="st">"Alpha=0.7"</span>)</span>
<span id="cb31-7"><a href="#cb31-7"></a></span>
<span id="cb31-8"><a href="#cb31-8"></a><span class="fu">plot</span>(<span class="fu">HoltWinters</span>(rainseries, <span class="at">alpha=</span><span class="dv">1</span>,</span>
<span id="cb31-9"><a href="#cb31-9"></a>                 <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>), <span class="at">main=</span><span class="st">"Alpha=1"</span>) <span class="do">## 1은 직전값만 보겠다는 뜻이다.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-31-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="121">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>alpha1<span class="ot">=</span><span class="fu">HoltWinters</span>(rainseries, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a>alpha1<span class="sc">$</span>SSE</span>
<span id="cb32-3"><a href="#cb32-3"></a>alpha07<span class="ot">=</span><span class="fu">HoltWinters</span>(rainseries, <span class="at">alpha=</span><span class="fl">0.7</span>, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb32-4"><a href="#cb32-4"></a>alpha07<span class="sc">$</span>SSE</span>
<span id="cb32-5"><a href="#cb32-5"></a>alpha03<span class="ot">=</span><span class="fu">HoltWinters</span>(rainseries, <span class="at">alpha=</span><span class="fl">0.3</span>, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb32-6"><a href="#cb32-6"></a>alpha03<span class="sc">$</span>SSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
3738.1784
</div>
<div class="cell-output cell-output-display">
2849.29917342505
</div>
<div class="cell-output cell-output-display">
2101.5603686547
</div>
</div>
<ul>
<li>[단순지수평활] 초기값 변경 <span class="math inline">\(\to\)</span> 기존의 경우 관측값의 첫 번째 값을 사용</li>
</ul>
<div class="cell" data-execution_count="124">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>rainforecasts35 <span class="ot">=</span> <span class="fu">HoltWinters</span>(rainseries, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>, <span class="at">l.start=</span><span class="dv">35</span>)</span>
<span id="cb33-2"><a href="#cb33-2"></a>rainforecasts35</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing without trend and without seasonal component.

Call:
HoltWinters(x = rainseries, beta = FALSE, gamma = FALSE, l.start = 35)

Smoothing parameters:
 alpha: 0.1955854
 beta : FALSE
 gamma: FALSE

Coefficients:
      [,1]
a 25.28555</code></pre>
</div>
</div>
<ul>
<li><p><span class="math inline">\(\alpha\)</span> 값이 앞에 초기값 설정 전 보다 작아짐</p></li>
<li><p>스무딩 효과도 줄어들었다.</p></li>
</ul>
<div class="cell" data-execution_count="130">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>rainforecasts35<span class="sc">$</span>SSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
2209.42164806169
</div>
</div>
<div class="cell" data-execution_count="127">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">plot</span>(rainforecasts35)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-35-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="132">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>rainforecasts2 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(rainforecasts, <span class="at">h=</span><span class="dv">5</span>) <span class="do">## h=예측할 시점, 즉 5개 시점을 예측해서 보겠다</span></span>
<span id="cb37-2"><a href="#cb37-2"></a><span class="fu">plot</span>(rainforecasts2) <span class="do">## 회색은 95%신뢰구간, 보라색은 80%신뢰구간</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-36-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="134">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>Z <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="st">"mindex.txt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="137">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>mindex  <span class="ot">&lt;-</span> <span class="fu">ts</span>(Z,<span class="at">start=</span><span class="fu">c</span>(<span class="dv">1986</span>,<span class="dv">1</span>),<span class="at">frequency =</span> <span class="dv">12</span>) <span class="do">## 1986년 1월부터 주기가 12인 데이터를 생성</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="138">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>mindex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A Time Series: 9 × 12</caption>
<thead>
    <tr><th></th><th scope="col">Jan</th><th scope="col">Feb</th><th scope="col">Mar</th><th scope="col">Apr</th><th scope="col">May</th><th scope="col">Jun</th><th scope="col">Jul</th><th scope="col">Aug</th><th scope="col">Sep</th><th scope="col">Oct</th><th scope="col">Nov</th><th scope="col">Dec</th></tr>
</thead>
<tbody>
    <tr><th scope="row">1986</th><td> 9.3</td><td>10.7</td><td>13.3</td><td>14.1</td><td>17.8</td><td>18.1</td><td>19.4</td><td>18.8</td><td>19.1</td><td>18.4</td><td>18.0</td><td>17.0</td></tr>
    <tr><th scope="row">1987</th><td>19.5</td><td>20.1</td><td>19.4</td><td>15.7</td><td>15.6</td><td>16.1</td><td>14.9</td><td>16.0</td><td>14.6</td><td>18.3</td><td>18.2</td><td>23.0</td></tr>
    <tr><th scope="row">1988</th><td>22.2</td><td>22.1</td><td>18.8</td><td>17.7</td><td>13.8</td><td>12.7</td><td>16.5</td><td>15.6</td><td>16.3</td><td>10.7</td><td>10.4</td><td> 7.0</td></tr>
    <tr><th scope="row">1989</th><td> 4.7</td><td> 4.5</td><td> 4.0</td><td> 6.0</td><td> 6.2</td><td> 5.7</td><td> 4.4</td><td> 4.2</td><td> 5.0</td><td> 5.8</td><td> 6.4</td><td> 4.9</td></tr>
    <tr><th scope="row">1990</th><td> 7.9</td><td> 8.2</td><td>11.8</td><td>10.0</td><td>11.1</td><td>11.7</td><td>12.4</td><td>15.2</td><td>14.0</td><td>15.2</td><td>12.9</td><td>18.0</td></tr>
    <tr><th scope="row">1991</th><td>14.4</td><td>12.7</td><td> 8.3</td><td>11.5</td><td>11.9</td><td>11.6</td><td>10.3</td><td> 8.5</td><td>11.6</td><td>12.3</td><td>14.5</td><td>11.1</td></tr>
    <tr><th scope="row">1992</th><td>11.8</td><td>12.4</td><td>12.7</td><td> 9.8</td><td>10.0</td><td>10.2</td><td> 9.6</td><td> 6.9</td><td> 5.3</td><td> 4.8</td><td> 4.6</td><td> 1.9</td></tr>
    <tr><th scope="row">1993</th><td> 3.8</td><td> 4.7</td><td> 7.7</td><td> 7.0</td><td> 7.2</td><td> 7.8</td><td> 8.6</td><td>11.4</td><td>10.7</td><td>11.8</td><td>11.3</td><td>16.0</td></tr>
    <tr><th scope="row">1994</th><td>13.2</td><td>12.0</td><td> 8.5</td><td>11.4</td><td>    </td><td>    </td><td>    </td><td>    </td><td>    </td><td>    </td><td>    </td><td>    </td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>시도표를 확인해본 결과 추세와 계절 성분이 없는 것을 확인하였다. 따라서 단순지수평활법을 적용</li>
</ul>
<div class="cell" data-execution_count="139">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">plot.ts</span>(mindex)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-40-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="140">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>mindexforecasts <span class="ot">=</span> <span class="fu">HoltWinters</span>(mindex, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb42-2"><a href="#cb42-2"></a>mindexforecasts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing without trend and without seasonal component.

Call:
HoltWinters(x = mindex, beta = FALSE, gamma = FALSE)

Smoothing parameters:
 alpha: 0.9036403
 beta : FALSE
 gamma: FALSE

Coefficients:
      [,1]
a 11.15433</code></pre>
</div>
</div>
<div class="cell" data-execution_count="141">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">3</span>,<span class="dv">1</span>))</span>
<span id="cb44-2"><a href="#cb44-2"></a><span class="fu">plot</span>(<span class="fu">HoltWinters</span>(mindex, <span class="at">alpha=</span><span class="fl">0.3</span>,</span>
<span id="cb44-3"><a href="#cb44-3"></a>                 <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>), <span class="at">main=</span><span class="st">"Alpha=0.3"</span>)</span>
<span id="cb44-4"><a href="#cb44-4"></a></span>
<span id="cb44-5"><a href="#cb44-5"></a><span class="fu">plot</span>(<span class="fu">HoltWinters</span>(mindex, <span class="at">alpha=</span><span class="fl">0.7</span>,</span>
<span id="cb44-6"><a href="#cb44-6"></a>                 <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>), <span class="at">main=</span><span class="st">"Alpha=0.7"</span>)</span>
<span id="cb44-7"><a href="#cb44-7"></a></span>
<span id="cb44-8"><a href="#cb44-8"></a><span class="fu">plot</span>(<span class="fu">HoltWinters</span>(mindex, <span class="at">alpha=</span><span class="dv">1</span>,</span>
<span id="cb44-9"><a href="#cb44-9"></a>                 <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>), <span class="at">main=</span><span class="st">"Alpha=1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-42-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="142">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>alpha1<span class="ot">=</span><span class="fu">HoltWinters</span>(mindex, <span class="at">alpha=</span><span class="dv">1</span>, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb45-2"><a href="#cb45-2"></a>alpha1<span class="sc">$</span>SSE</span>
<span id="cb45-3"><a href="#cb45-3"></a>alpha07<span class="ot">=</span><span class="fu">HoltWinters</span>(mindex, <span class="at">alpha=</span><span class="fl">0.7</span>, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb45-4"><a href="#cb45-4"></a>alpha07<span class="sc">$</span>SSE</span>
<span id="cb45-5"><a href="#cb45-5"></a>alpha03<span class="ot">=</span><span class="fu">HoltWinters</span>(mindex, <span class="at">alpha=</span><span class="fl">0.3</span>, <span class="at">beta=</span><span class="cn">FALSE</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb45-6"><a href="#cb45-6"></a>alpha03<span class="sc">$</span>SSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
443.23
</div>
<div class="cell-output cell-output-display">
462.503411392955
</div>
<div class="cell-output cell-output-display">
792.968599702168
</div>
</div>
<ul>
<li>직접적으로 최적의 평활상수를 구해보자</li>
</ul>
<div class="cell" data-execution_count="149">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>w <span class="ot">&lt;-</span><span class="fu">c</span>(<span class="fu">seq</span>(<span class="fl">0.1</span>,<span class="fl">0.8</span>,<span class="fl">0.1</span>), <span class="fu">seq</span>(<span class="fl">0.81</span>, <span class="fl">0.99</span>, <span class="fl">0.01</span>)) </span>
<span id="cb46-2"><a href="#cb46-2"></a>sse <span class="ot">&lt;-</span> <span class="fu">sapply</span>(w, <span class="cf">function</span>(x) </span>
<span id="cb46-3"><a href="#cb46-3"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(<span class="fu">ses</span>(mindex, <span class="at">alpha =</span> x)<span class="sc">$</span>residuals<span class="sc">^</span><span class="dv">2</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="145">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>w1 <span class="ot">=</span> w[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)]  <span class="co"># xaxis from 0.7 to 1.0</span></span>
<span id="cb47-2"><a href="#cb47-2"></a>sse1 <span class="ot">=</span> sse[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)]</span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="fu">plot</span>(w1,sse1, <span class="at">type=</span><span class="st">"o"</span>, <span class="at">xlab=</span><span class="st">"weight"</span>, <span class="at">ylab=</span><span class="st">"sse"</span>, <span class="at">pch=</span><span class="dv">16</span>,</span>
<span id="cb47-4"><a href="#cb47-4"></a>     <span class="at">main=</span><span class="st">"1 시차 후 예측오차의 제곱합"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-45-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="146">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>opt_w <span class="ot">&lt;-</span> w[<span class="fu">which.min</span>(sse)]  <span class="co"># 최적 평활상수값</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>opt_w</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
0.9
</div>
</div>
<div class="cell" data-execution_count="153">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>fit1 <span class="ot">&lt;-</span> <span class="fu">ses</span>(mindex, <span class="at">alpha=</span>w[<span class="fu">which.min</span>(sse)], <span class="at">h=</span><span class="dv">6</span>) <span class="do">## ses 함수는 더 예측할 시점을 설정하여 모형을 적합할 수 있음</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>fit1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>         Point Forecast    Lo 80    Hi 80    Lo 95    Hi 95
May 1994       11.14643 8.438328 13.85454 7.004743 15.28812
Jun 1994       11.14643 7.503050 14.78982 5.574359 16.71851
Jul 1994       11.14643 6.762982 15.52989 4.442522 17.85034
Aug 1994       11.14643 6.130952 16.16192 3.475916 18.81695
Sep 1994       11.14643 5.570103 16.72276 2.618171 19.67470
Oct 1994       11.14643 5.060723 17.23214 1.839142 20.45372</code></pre>
</div>
</div>
<div class="cell" data-execution_count="152">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="fu">plot</span>(fit1, <span class="at">xlab=</span><span class="st">""</span>, <span class="at">ylab=</span><span class="st">""</span>, </span>
<span id="cb51-2"><a href="#cb51-2"></a>     <span class="at">main=</span><span class="fu">paste0</span>(<span class="st">"중간재 출하지수와 단순지수평활값 alpha="</span>,opt_w), </span>
<span id="cb51-3"><a href="#cb51-3"></a>     <span class="at">lty=</span><span class="dv">1</span>,<span class="at">col=</span><span class="st">"black"</span> )</span>
<span id="cb51-4"><a href="#cb51-4"></a><span class="fu">lines</span>(<span class="fu">fitted</span>(fit1), <span class="at">col=</span><span class="st">"red"</span>, <span class="at">lty=</span><span class="dv">2</span>)</span>
<span id="cb51-5"><a href="#cb51-5"></a><span class="fu">legend</span>(<span class="st">"topright"</span>, <span class="at">legend=</span><span class="fu">c</span>(<span class="st">"Mindex"</span>, opt_w), </span>
<span id="cb51-6"><a href="#cb51-6"></a>       <span class="at">lty=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,<span class="at">col=</span><span class="fu">c</span>(<span class="st">"black"</span>,<span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-48-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="이중지수-평활법" class="level4">
<h4 class="anchored" data-anchor-id="이중지수-평활법">이중지수 평활법</h4>
<ul>
<li>치맛단 길이 데이터를 사용</li>
</ul>
<div class="cell" data-execution_count="159">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>skirts<span class="ot">=</span><span class="fu">scan</span>(<span class="st">"http://robjhyndman.com/tsdldata/roberts/skirts.dat"</span>,</span>
<span id="cb52-2"><a href="#cb52-2"></a>            <span class="at">skip=</span><span class="dv">5</span>)</span>
<span id="cb52-3"><a href="#cb52-3"></a>skirtsseries <span class="ot">&lt;-</span> <span class="fu">ts</span>(skirts,<span class="at">start=</span><span class="fu">c</span>(<span class="dv">1866</span>))</span>
<span id="cb52-4"><a href="#cb52-4"></a>skirtsseries <span class="co"># 주기가 1년인 데이터</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
A Time Series:<br><style>
.list-inline {list-style: none; margin:0; padding: 0}
.list-inline>li {display: inline-block}
.list-inline>li:not(:last-child)::after {content: "\00b7"; padding: 0 .5ex}
</style>
<ol class="list-inline"><li>608</li><li>617</li><li>625</li><li>636</li><li>657</li><li>691</li><li>728</li><li>784</li><li>816</li><li>876</li><li>949</li><li>997</li><li>1027</li><li>1047</li><li>1049</li><li>1018</li><li>1021</li><li>1012</li><li>1018</li><li>991</li><li>962</li><li>921</li><li>871</li><li>829</li><li>822</li><li>820</li><li>802</li><li>821</li><li>819</li><li>791</li><li>746</li><li>726</li><li>661</li><li>620</li><li>588</li><li>568</li><li>542</li><li>551</li><li>541</li><li>557</li><li>556</li><li>534</li><li>528</li><li>529</li><li>523</li><li>531</li></ol>
</div>
</div>
<ul>
<li>시도표를 살펴본 결과 올라가다가 내려가는? 추세를 볼 수 있다.</li>
<li>또한 추세가 일정한 것보다는 시간에 따라 추세가 변하는 것을 볼 수 있다</li>
<li>따라서 일반적인 추세모형을 적합할 수 없으므로 이중지수평활법을 사용</li>
</ul>
<div class="cell" data-execution_count="160">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="fu">plot.ts</span>(skirtsseries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-50-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>[이중지수평활법] gamma =F</p>
<div class="cell" data-execution_count="161">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>skirtforecasts <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(skirtsseries, <span class="at">gamma=</span><span class="cn">FALSE</span>)</span>
<span id="cb54-2"><a href="#cb54-2"></a>skirtforecasts </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing with trend and without seasonal component.

Call:
HoltWinters(x = skirtsseries, gamma = FALSE)

Smoothing parameters:
 alpha: 0.8383481
 beta : 1
 gamma: FALSE

Coefficients:
        [,1]
a 529.308585
b   5.690464</code></pre>
</div>
</div>
<ul>
<li><span class="math inline">\(\beta = 1, \alpha = 0.83\dots\)</span>로 최근값에 가중치가 더 많이 들어간 것으로 확인된다.</li>
</ul>
<div class="cell" data-execution_count="162">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a><span class="fu">plot</span>(skirtforecasts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-52-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>[이중지수평활법] 예측</p>
<div class="cell" data-execution_count="164">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>skirtsforecasts2<span class="ot">=</span><span class="fu">forecast</span>(skirtforecasts, <span class="at">h=</span><span class="dv">10</span>)</span>
<span id="cb57-2"><a href="#cb57-2"></a><span class="fu">plot</span>(skirtsforecasts2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-53-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="167">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>z <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="st">"stock.txt"</span>)</span>
<span id="cb58-2"><a href="#cb58-2"></a>stock <span class="ot">&lt;-</span> <span class="fu">ts</span>(z, <span class="at">start=</span><span class="fu">c</span>(<span class="dv">1984</span>,<span class="dv">1</span>), <span class="at">frequency=</span><span class="dv">12</span>)</span>
<span id="cb58-3"><a href="#cb58-3"></a>stock</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A Time Series: 8 × 12</caption>
<thead>
    <tr><th></th><th scope="col">Jan</th><th scope="col">Feb</th><th scope="col">Mar</th><th scope="col">Apr</th><th scope="col">May</th><th scope="col">Jun</th><th scope="col">Jul</th><th scope="col">Aug</th><th scope="col">Sep</th><th scope="col">Oct</th><th scope="col">Nov</th><th scope="col">Dec</th></tr>
</thead>
<tbody>
    <tr><th scope="row">1984</th><td>118.60</td><td>129.84</td><td>129.12</td><td>133.23</td><td>131.74</td><td>133.53</td><td>133.15</td><td>135.08</td><td>134.74</td><td>132.21</td><td>132.94</td><td>138.34</td></tr>
    <tr><th scope="row">1985</th><td>139.98</td><td>135.72</td><td>134.30</td><td>136.14</td><td>133.17</td><td>137.35</td><td>135.77</td><td>136.54</td><td>136.34</td><td>140.21</td><td>145.26</td><td>135.37</td></tr>
    <tr><th scope="row">1986</th><td>157.54</td><td>168.83</td><td>187.77</td><td>206.02</td><td>209.57</td><td>239.30</td><td>260.24</td><td>268.28</td><td>262.02</td><td>243.64</td><td>257.00</td><td>237.30</td></tr>
    <tr><th scope="row">1987</th><td>289.09</td><td>320.53</td><td>365.85</td><td>368.66</td><td>383.97</td><td>387.28</td><td>454.00</td><td>483.98</td><td>481.52</td><td>509.43</td><td>477.53</td><td>489.00</td></tr>
    <tr><th scope="row">1988</th><td>579.48</td><td>644.36</td><td>624.94</td><td>643.46</td><td>673.32</td><td>710.98</td><td>696.84</td><td>693.39</td><td>675.05</td><td>713.39</td><td>778.15</td><td>884.34</td></tr>
    <tr><th scope="row">1989</th><td>884.23</td><td>902.21</td><td>965.89</td><td>959.12</td><td>936.94</td><td>900.75</td><td>886.35</td><td>922.35</td><td>951.58</td><td>913.00</td><td>898.67</td><td>901.80</td></tr>
    <tr><th scope="row">1990</th><td>898.00</td><td>867.18</td><td>845.48</td><td>785.50</td><td>771.65</td><td>766.70</td><td>698.17</td><td>637.42</td><td>602.21</td><td>682.79</td><td>696.44</td><td>712.46</td></tr>
    <tr><th scope="row">1991</th><td>647.53</td><td>654.72</td><td>670.55</td><td>638.34</td><td>630.19</td><td>604.73</td><td>646.25</td><td>710.56</td><td>684.34</td><td>705.16</td><td>668.07</td><td>625.06</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>레벨과 추세가 시간에 따라 변하는 것을 알 수 있다.</li>
</ul>
<div class="cell" data-execution_count="168">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="fu">plot.ts</span>(stock, <span class="at">main=</span><span class="st">'월별주가지수'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-55-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1"></a>fit4 <span class="ot">=</span> <span class="fu">HoltWinters</span>(stock, <span class="at">alpha=</span><span class="fl">0.6</span>, <span class="at">beta=</span><span class="fl">0.6</span>, <span class="at">gamma=</span><span class="cn">FALSE</span>) </span>
<span id="cb60-2"><a href="#cb60-2"></a>fit4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing with trend and without seasonal component.

Call:
HoltWinters(x = stock, alpha = 0.6, beta = 0.6, gamma = FALSE)

Smoothing parameters:
 alpha: 0.6
 beta : 0.6
 gamma: FALSE

Coefficients:
       [,1]
a 650.78081
b -26.14166</code></pre>
</div>
</div>
<div class="cell" data-execution_count="171">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a><span class="fu">plot</span>(fit4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-57-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li><span class="math inline">\(\alpha=1, \beta = 0.109\dots\)</span> 알파는 최근값, 베타는 과거값에 가중치를 더 많이 주었다.</li>
</ul>
<div class="cell" data-execution_count="172">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>fit5 <span class="ot">=</span> <span class="fu">HoltWinters</span>(stock, <span class="at">gamma=</span><span class="cn">FALSE</span>) </span>
<span id="cb63-2"><a href="#cb63-2"></a>fit5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing with trend and without seasonal component.

Call:
HoltWinters(x = stock, gamma = FALSE)

Smoothing parameters:
 alpha: 1
 beta : 0.1094451
 gamma: FALSE

Coefficients:
        [,1]
a 625.060000
b  -7.097122</code></pre>
</div>
</div>
<div class="cell" data-execution_count="174">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>fit5_2<span class="ot">=</span><span class="fu">forecast</span>(fit5, <span class="at">h=</span><span class="dv">10</span>)</span>
<span id="cb65-2"><a href="#cb65-2"></a><span class="fu">plot</span>(fit5_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-59-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="계절지수-평활법" class="level4">
<h4 class="anchored" data-anchor-id="계절지수-평활법">계절지수 평활법</h4>
<div class="cell" data-execution_count="175">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>souvenir<span class="ot">=</span><span class="fu">scan</span>(<span class="st">"http://robjhyndman.com/tsdldata/data/fancy.dat"</span>)</span>
<span id="cb66-2"><a href="#cb66-2"></a>souvenirtimeseries<span class="ot">=</span><span class="fu">ts</span>(souvenir, <span class="at">frequency=</span><span class="dv">12</span>, <span class="at">start=</span><span class="fu">c</span>(<span class="dv">1987</span>,<span class="dv">1</span>))</span>
<span id="cb66-3"><a href="#cb66-3"></a></span>
<span id="cb66-4"><a href="#cb66-4"></a>souvenirtimeseries</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A Time Series: 7 × 12</caption>
<thead>
    <tr><th></th><th scope="col">Jan</th><th scope="col">Feb</th><th scope="col">Mar</th><th scope="col">Apr</th><th scope="col">May</th><th scope="col">Jun</th><th scope="col">Jul</th><th scope="col">Aug</th><th scope="col">Sep</th><th scope="col">Oct</th><th scope="col">Nov</th><th scope="col">Dec</th></tr>
</thead>
<tbody>
    <tr><th scope="row">1987</th><td>  1664.81</td><td>  2397.53</td><td>  2840.71</td><td>  3547.29</td><td>  3752.96</td><td>  3714.74</td><td>  4349.61</td><td>  3566.34</td><td>  5021.82</td><td>  6423.48</td><td>  7600.60</td><td> 19756.21</td></tr>
    <tr><th scope="row">1988</th><td>  2499.81</td><td>  5198.24</td><td>  7225.14</td><td>  4806.03</td><td>  5900.88</td><td>  4951.34</td><td>  6179.12</td><td>  4752.15</td><td>  5496.43</td><td>  5835.10</td><td> 12600.08</td><td> 28541.72</td></tr>
    <tr><th scope="row">1989</th><td>  4717.02</td><td>  5702.63</td><td>  9957.58</td><td>  5304.78</td><td>  6492.43</td><td>  6630.80</td><td>  7349.62</td><td>  8176.62</td><td>  8573.17</td><td>  9690.50</td><td> 15151.84</td><td> 34061.01</td></tr>
    <tr><th scope="row">1990</th><td>  5921.10</td><td>  5814.58</td><td> 12421.25</td><td>  6369.77</td><td>  7609.12</td><td>  7224.75</td><td>  8121.22</td><td>  7979.25</td><td>  8093.06</td><td>  8476.70</td><td> 17914.66</td><td> 30114.41</td></tr>
    <tr><th scope="row">1991</th><td>  4826.64</td><td>  6470.23</td><td>  9638.77</td><td>  8821.17</td><td>  8722.37</td><td> 10209.48</td><td> 11276.55</td><td> 12552.22</td><td> 11637.39</td><td> 13606.89</td><td> 21822.11</td><td> 45060.69</td></tr>
    <tr><th scope="row">1992</th><td>  7615.03</td><td>  9849.69</td><td> 14558.40</td><td> 11587.33</td><td>  9332.56</td><td> 13082.09</td><td> 16732.78</td><td> 19888.61</td><td> 23933.38</td><td> 25391.35</td><td> 36024.80</td><td> 80721.71</td></tr>
    <tr><th scope="row">1993</th><td> 10243.24</td><td> 11266.88</td><td> 21826.84</td><td> 17357.33</td><td> 15997.79</td><td> 18601.53</td><td> 26155.15</td><td> 28586.52</td><td> 30505.41</td><td> 30821.33</td><td> 46634.38</td><td>104660.67</td></tr>
</tbody>
</table>
</div>
</div>
<ul>
<li>시도표를 그려본 결과 추세성분과 계절성분이 관측되었고 이분산성도 관측되었음</li>
<li>따라서 로그변환 후 계절지수평활법을 적용</li>
</ul>
<div class="cell" data-execution_count="181">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="fu">plot.ts</span>(souvenirtimeseries) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-61-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="182">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>logsouvenirtimeseries <span class="ot">&lt;-</span> <span class="fu">log</span>(souvenirtimeseries)</span>
<span id="cb68-2"><a href="#cb68-2"></a><span class="fu">plot.ts</span>(logsouvenirtimeseries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-62-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="183">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>souvenirforecasts <span class="ot">&lt;-</span> <span class="fu">HoltWinters</span>(logsouvenirtimeseries)</span>
<span id="cb69-2"><a href="#cb69-2"></a>souvenirforecasts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing with trend and additive seasonal component.

Call:
HoltWinters(x = logsouvenirtimeseries)

Smoothing parameters:
 alpha: 0.413418
 beta : 0
 gamma: 0.9561275

Coefficients:
           [,1]
a   10.37661961
b    0.02996319
s1  -0.80952063
s2  -0.60576477
s3   0.01103238
s4  -0.24160551
s5  -0.35933517
s6  -0.18076683
s7   0.07788605
s8   0.10147055
s9   0.09649353
s10  0.05197826
s11  0.41793637
s12  1.18088423</code></pre>
</div>
</div>
<ul>
<li><span class="math inline">\(s_1,\dots s_{12}\)</span>는 계절성분의 평활상수 이다.</li>
</ul>
<div class="cell" data-execution_count="184">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="fu">plot</span>(souvenirforecasts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-64-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="185">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>souvenirforecasts2 <span class="ot">&lt;-</span> <span class="fu">forecast</span>(souvenirforecasts, <span class="at">h=</span><span class="dv">36</span>)</span>
<span id="cb72-2"><a href="#cb72-2"></a><span class="fu">plot</span>(souvenirforecasts2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-65-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="186">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>z <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="st">"koreapass.txt"</span>)</span>
<span id="cb73-2"><a href="#cb73-2"></a>pass <span class="ot">&lt;-</span> <span class="fu">ts</span>(z, <span class="at">start=</span><span class="fu">c</span>(<span class="dv">1981</span>,<span class="dv">1</span>), <span class="at">frequency=</span><span class="dv">12</span>) </span>
<span id="cb73-3"><a href="#cb73-3"></a></span>
<span id="cb73-4"><a href="#cb73-4"></a>pass</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<table class="dataframe table table-sm table-striped">
<caption>A Time Series: 9 × 12</caption>
<thead>
    <tr><th></th><th scope="col">Jan</th><th scope="col">Feb</th><th scope="col">Mar</th><th scope="col">Apr</th><th scope="col">May</th><th scope="col">Jun</th><th scope="col">Jul</th><th scope="col">Aug</th><th scope="col">Sep</th><th scope="col">Oct</th><th scope="col">Nov</th><th scope="col">Dec</th></tr>
</thead>
<tbody>
    <tr><th scope="row">1981</th><td>112696</td><td>103070</td><td>122800</td><td>142496</td><td>150064</td><td>136128</td><td>143033</td><td>158223</td><td>138626</td><td>148761</td><td>140539</td><td>117693</td></tr>
    <tr><th scope="row">1982</th><td>133390</td><td>117378</td><td>136309</td><td>149476</td><td>157107</td><td>147160</td><td>153156</td><td>164352</td><td>139584</td><td>165633</td><td>147054</td><td>129396</td></tr>
    <tr><th scope="row">1983</th><td>137638</td><td>132128</td><td>141178</td><td>154545</td><td>169127</td><td>156056</td><td>167749</td><td>200228</td><td>154371</td><td>169199</td><td>144594</td><td>126590</td></tr>
    <tr><th scope="row">1984</th><td>132362</td><td>131123</td><td>146756</td><td>160249</td><td>175131</td><td>169655</td><td>178023</td><td>193169</td><td>171479</td><td>186443</td><td>172378</td><td>150952</td></tr>
    <tr><th scope="row">1985</th><td>156240</td><td>144008</td><td>177073</td><td>186693</td><td>187296</td><td>190206</td><td>196132</td><td>218560</td><td>183651</td><td>189003</td><td>177325</td><td>159672</td></tr>
    <tr><th scope="row">1986</th><td>163846</td><td>158125</td><td>193446</td><td>193743</td><td>205408</td><td>210435</td><td>219326</td><td>249612</td><td>205442</td><td>234143</td><td>216913</td><td>185724</td></tr>
    <tr><th scope="row">1987</th><td>195346</td><td>183669</td><td>215524</td><td>224547</td><td>238201</td><td>238304</td><td>249401</td><td>274307</td><td>224528</td><td>229684</td><td>217576</td><td>182898</td></tr>
    <tr><th scope="row">1988</th><td>199252</td><td>193565</td><td>230360</td><td>242953</td><td>274802</td><td>271599</td><td>293280</td><td>328824</td><td>236158</td><td>305662</td><td>312164</td><td>267947</td></tr>
    <tr><th scope="row">1989</th><td>309654</td><td>279943</td><td>324963</td><td>319020</td><td>352602</td><td>356546</td><td>376214</td><td>398079</td><td>355931</td><td>363955</td><td>339887</td><td>308085</td></tr>
</tbody>
</table>
</div>
</div>
<div class="cell" data-execution_count="187">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a><span class="fu">plot.ts</span>(pass)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-67-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>가법모형 적용</li>
</ul>
<div class="cell" data-execution_count="188">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>fit6 <span class="ot">=</span> <span class="fu">HoltWinters</span>(pass, <span class="at">seasonal=</span><span class="st">"additive"</span>) </span>
<span id="cb75-2"><a href="#cb75-2"></a>fit6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing with trend and additive seasonal component.

Call:
HoltWinters(x = pass, seasonal = "additive")

Smoothing parameters:
 alpha: 0.4810767
 beta : 0.0383379
 gamma: 0.7345988

Coefficients:
          [,1]
a   347794.753
b     3363.251
s1  -12186.666
s2  -33643.322
s3    4855.643
s4    5000.713
s5   29085.909
s6   22953.006
s7   32200.195
s8   49687.643
s9  -11655.430
s10  10218.813
s11  -4226.391
s12 -38683.394</code></pre>
</div>
</div>
<ul>
<li>잔차 그림</li>
</ul>
<div class="cell" data-execution_count="189">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="fu">ts.plot</span>(<span class="fu">resid</span>(fit6), <span class="at">ylab=</span><span class="st">"residual"</span>, </span>
<span id="cb77-2"><a href="#cb77-2"></a>        <span class="at">main=</span><span class="st">"가법모형의 예측오차"</span>); <span class="fu">abline</span>(<span class="at">h=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-69-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="192">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>fit6_2<span class="ot">=</span><span class="fu">forecast</span>(fit6, <span class="at">h=</span><span class="dv">12</span>)</span>
<span id="cb78-2"><a href="#cb78-2"></a><span class="fu">plot</span>(fit6_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-70-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>승법모형 적용</li>
</ul>
<div class="cell" data-execution_count="193">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>fit7 <span class="ot">=</span>  <span class="fu">HoltWinters</span>(pass, <span class="at">seasonal=</span><span class="st">"multiplicative"</span>) </span>
<span id="cb79-2"><a href="#cb79-2"></a>fit7</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Holt-Winters exponential smoothing with trend and multiplicative seasonal component.

Call:
HoltWinters(x = pass, seasonal = "multiplicative")

Smoothing parameters:
 alpha: 0.5623303
 beta : 0.03452066
 gamma: 0.3506508

Coefficients:
            [,1]
a   3.560417e+05
b   3.517556e+03
s1  9.199511e-01
s2  8.489190e-01
s3  9.796617e-01
s4  1.016528e+00
s5  1.095078e+00
s6  1.060795e+00
s7  1.089621e+00
s8  1.178393e+00
s9  9.706046e-01
s10 1.065056e+00
s11 9.983082e-01
s12 8.552947e-01</code></pre>
</div>
</div>
<div class="cell" data-execution_count="194">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="fu">ts.plot</span>(<span class="fu">resid</span>(fit7), <span class="at">ylab=</span><span class="st">"residual"</span>, </span>
<span id="cb81-2"><a href="#cb81-2"></a>        <span class="at">main=</span><span class="st">"승법모형의 예측오차"</span>); <span class="fu">abline</span>(<span class="at">h=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-72-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-execution_count="197">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>fit6<span class="sc">$</span>SSE; fit7<span class="sc">$</span>SSE</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
13764737658.0239
</div>
<div class="cell-output cell-output-display">
12633778874.3409
</div>
</div>
<div class="cell" data-execution_count="198">
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>fit7_2<span class="ot">=</span><span class="fu">forecast</span>(fit7, <span class="at">h=</span><span class="dv">12</span>)</span>
<span id="cb83-2"><a href="#cb83-2"></a><span class="fu">plot</span>(fit7_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-74-output-1.png" class="img-fluid"></p>
</div>
</div>
<hr>
</section>
</section>
</section>
</section>
<section id="시계열-모형" class="level1">
<h1>4. 시계열 모형</h1>
<section id="가.-자기회귀-모형-ar-모형-autoregressive-model" class="level2">
<h2 class="anchored" data-anchor-id="가.-자기회귀-모형-ar-모형-autoregressive-model">가. 자기회귀 모형 (AR 모형, Autoregressive Model)</h2>
<ul>
<li><span class="math inline">\(p\)</span> 시점 전의 자료가 현재 자료에 영향을 주는 모형</li>
</ul>
<p><span class="math display">\[Z_t = \phi_1 + Z_{t-1} + \dots \phi_pZ_{t-p} + \alpha_t\]</span></p>
<ul>
<li><p><span class="math inline">\(\alpha_t \sim WN(0,\sigma^2)\)</span> 로 대표적인 정상시계열이다.</p></li>
<li><p>자기상관함수(ACF)는 지수적으로 빠르게 감소, 부분자기상관함수(PACF)는 <span class="math inline">\(p+1\)</span>시점에서 절단점을 가진다.</p></li>
</ul>
</section>
<section id="나.-이동평균-모형-ma-모형-moving-average-model" class="level2">
<h2 class="anchored" data-anchor-id="나.-이동평균-모형-ma-모형-moving-average-model">나. 이동평균 모형 (MA 모형, Moving Average Model)</h2>
<p><span class="math display">\[ Z_t =\alpha_t - \theta_1\alpha_{t-1}-\theta_2\alpha_{t-2}\dots -\theta_p \alpha_{t-p}\]</span></p>
<ul>
<li><p>유한개 개수의 백색잡음의 결합이므로 언제나 정상성을 만족한다.</p></li>
<li><p>부분자기상관함수(PACF)는 지수적으로 빠르게 감소, 자기상관함수(ACF)는 <span class="math inline">\(p+1\)</span>시점에서 절단점을 가진다.</p></li>
</ul>
</section>
<section id="다.-자기회귀누적이동평균-모형-arima-pdq-모형-autoregressive-integrated-moving-average-model" class="level2">
<h2 class="anchored" data-anchor-id="다.-자기회귀누적이동평균-모형-arima-pdq-모형-autoregressive-integrated-moving-average-model">다. 자기회귀누적이동평균 모형 (ARIMA (p,d,q) 모형 , Autoregressive integrated moving average model)</h2>
<ul>
<li><p><span class="math inline">\(p \to AR, \, q\to MA\)</span> 와 대응된다.</p></li>
<li><p><span class="math inline">\(ARIMA\)</span> 모형은 비정상시계열 모형이다.</p></li>
<li><p><span class="math inline">\(Z_t\)</span>가 비정상 시계열일 때 <span class="math inline">\(d\)</span>번 차분한 시계열이 <span class="math inline">\(ARMA(p,q)\)</span> 이면 <span class="math inline">\(Z_t\)</span>는 <span class="math inline">\(ARIMA(p,d,q)\)</span> 모형을 갖는다고 한다.</p></li>
<li><p><span class="math inline">\(ARIMA(0,1,1)\)</span> 일 경우 1차분 후 <span class="math inline">\(MA(1)\)</span>을 이용</p></li>
<li><p><span class="math inline">\(ARIMA(1,1,0)\)</span> 일 경우 1차분 후 <span class="math inline">\(AR(1)\)</span>을 이용</p></li>
</ul>
</section>
<section id="practice-with-r-2" class="level2">
<h2 class="anchored" data-anchor-id="practice-with-r-2">Practice with R</h2>
<ul>
<li>데이터 로드 후 시도표</li>
<li>딱히 이렇다할 추세나 계절 성분은 보이진 않는다.</li>
</ul>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>king <span class="ot">&lt;-</span> <span class="fu">scan</span>(<span class="st">"http://robjhyndman.com/tsdldata/misc/kings.dat"</span>,<span class="at">skip=</span><span class="dv">3</span>)</span>
<span id="cb84-2"><a href="#cb84-2"></a>king.ts <span class="ot">&lt;-</span> <span class="fu">ts</span>(king) <span class="do">## 1년 주기로 데이터를 생성</span></span>
<span id="cb84-3"><a href="#cb84-3"></a><span class="fu">plot</span>(king.ts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-75-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>acf값과 pacf값을 확인</li>
</ul>
<div class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb85-2"><a href="#cb85-2"></a><span class="fu">acf</span>(king.ts); <span class="fu">pacf</span>(king.ts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-76-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li><p>또한 PACF 도표를 그려 확인한 결과 <span class="math inline">\(lag\, 2\)</span>에서 절단 점을 가지므로 <span class="math inline">\(AR(1)\)</span> 모형을 1차적으로 고려해볼 수 있다.</p></li>
<li><p>그러나 실제 ACF가 유의한지 아닌 지 검증을 수행하여 차분여부를 결정하자</p></li>
</ul>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1"></a><span class="fu">library</span>(fUnitRoots)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="fu">adfTest</span>(king.ts,<span class="at">lags=</span><span class="dv">0</span>, <span class="at">type=</span><span class="st">"c"</span>) <span class="do">## type="c" 는 적합할 모형에 상수항(절편)이 존재하는 경우</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>                                  <span class="do">## type= "nc"는 적합할 모형에 상수항이 0인 경우</span></span>
<span id="cb87-3"><a href="#cb87-3"></a>                                  <span class="do">## type= "ct" 적합할 모형에 추세와 절편이 존재하는 경우</span></span>
<span id="cb87-4"><a href="#cb87-4"></a><span class="fu">adfTest</span>(king.ts,<span class="at">lags=</span><span class="dv">1</span>, <span class="at">type=</span><span class="st">"c"</span>)</span>
<span id="cb87-5"><a href="#cb87-5"></a><span class="fu">adfTest</span>(king.ts,<span class="at">lags=</span><span class="dv">2</span>, <span class="at">type=</span><span class="st">"c"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning message in adfTest(king.ts, lags = 0, type = "c"):
"p-value smaller than printed p-value"</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>
Title:
 Augmented Dickey-Fuller Test

Test Results:
  PARAMETER:
    Lag Order: 0
  STATISTIC:
    Dickey-Fuller: -4.0902
  P VALUE:
    0.01 

Description:
 Fri Nov 26 15:50:29 2021 by user: lee</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>
Title:
 Augmented Dickey-Fuller Test

Test Results:
  PARAMETER:
    Lag Order: 1
  STATISTIC:
    Dickey-Fuller: -3.0002
  P VALUE:
    0.04631 

Description:
 Fri Nov 26 15:50:29 2021 by user: lee</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>
Title:
 Augmented Dickey-Fuller Test

Test Results:
  PARAMETER:
    Lag Order: 2
  STATISTIC:
    Dickey-Fuller: -2.1483
  P VALUE:
    0.2665 

Description:
 Fri Nov 26 15:50:29 2021 by user: lee</code></pre>
</div>
</div>
<ul>
<li><p>시차 0,1,2에서 검정 결과 차분을 1회할 경우 정상성을 만족할 것으로 보인다.</p></li>
<li><p>검정결과만 보면 굳이 차분을 안해도 될 것 같긴하다.</p></li>
</ul>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb92-2"><a href="#cb92-2"></a>king.ff1 <span class="ot">&lt;-</span> <span class="fu">diff</span>(king.ts,<span class="at">differences=</span><span class="dv">1</span>)</span>
<span id="cb92-3"><a href="#cb92-3"></a><span class="fu">plot.ts</span>(king.ts);<span class="fu">plot.ts</span>(king.ff1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-79-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li>시도표를 그려보았을 때는 기존보다 평균과 분산이 어느 정도 일정해짐을 볼 수 있었다.</li>
</ul>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a><span class="fu">par</span>(<span class="at">mfrow=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb93-2"><a href="#cb93-2"></a><span class="fu">acf</span>(king.ff1); <span class="fu">pacf</span>(king.ff1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-80-output-1.png" class="img-fluid"></p>
</div>
</div>
<ul>
<li><p>acf 그래프를 본 결과 lag 2부터 절단점을 가진다. <span class="math inline">\(\to MA(1)\)</span></p></li>
<li><p>pacf 그래프를 살펴본 결과 lag 4부터 절단점을 가진다. <span class="math inline">\(\to AR(3)\)</span></p></li>
<li><p>모형의 해석력을 고려하여 <span class="math inline">\(MA(1)\)</span>을 선택하는 것이 좋겠지만, auto.arima함수를 이용하여 적절한 모형을 선택</p></li>
</ul>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a><span class="fu">library</span>(forecast)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a><span class="fu">auto.arima</span>(king) <span class="do">##기존 데이터를 넣어 주어야함</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>Series: king 
ARIMA(0,1,1) 

Coefficients:
          ma1
      -0.7218
s.e.   0.1208

sigma^2 estimated as 236.2:  log likelihood=-170.06
AIC=344.13   AICc=344.44   BIC=347.56</code></pre>
</div>
</div>
<ul>
<li>함수를 이용하여 산출된 모형은 <span class="math inline">\(ARIMA(0,1,1)\)</span>이다.</li>
</ul>
<p><span class="math display">\[ Z_t = \varepsilon_t + 0.7218\times \varepsilon_{t-1}\]</span></p>
<ul>
<li><p>따라서 <span class="math inline">\(ARIMA(0,1,1)\)</span> 모형을 적합</p></li>
<li><p>예측값을 살펴본 결과 43~52 번째 왕의 사망예측 나이는 67.75살로 추정된다.</p></li>
</ul>
<div class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>king.arima <span class="ot">&lt;-</span> <span class="fu">arima</span>(king,<span class="at">order =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>))</span>
<span id="cb97-2"><a href="#cb97-2"></a>king.forecasts <span class="ot">&lt;-</span> <span class="fu">forecast</span>(king.arima)</span>
<span id="cb97-3"><a href="#cb97-3"></a>king.forecasts</span>
<span id="cb97-4"><a href="#cb97-4"></a><span class="fu">plot</span>(king.forecasts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<pre><code>   Point Forecast    Lo 80    Hi 80    Lo 95     Hi 95
43       67.75063 48.29647 87.20479 37.99806  97.50319
44       67.75063 47.55748 87.94377 36.86788  98.63338
45       67.75063 46.84460 88.65665 35.77762  99.72363
46       67.75063 46.15524 89.34601 34.72333 100.77792
47       67.75063 45.48722 90.01404 33.70168 101.79958
48       67.75063 44.83866 90.66260 32.70979 102.79146
49       67.75063 44.20796 91.29330 31.74523 103.75603
50       67.75063 43.59372 91.90753 30.80583 104.69543
51       67.75063 42.99472 92.50653 29.88974 105.61152
52       67.75063 42.40988 93.09138 28.99529 106.50596</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="시계열 분석_files/figure-html/cell-83-output-2.png" class="img-fluid"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../../../../post/Lecture/RFD/통계분석/다차원척도법(1204).html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">10. Multidimensional scaling</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../../../post/Lecture/STBD/2022-03-08-(1주차).html" class="pagination-link">
        <span class="nav-page-text">01. 단순선형회귀</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>